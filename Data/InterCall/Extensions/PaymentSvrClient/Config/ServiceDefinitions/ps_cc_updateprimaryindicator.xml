<?xml version="1.0" encoding="utf-8"?>
<PropertyBag xmlns:arrays="http://schemas.microsoft.com/2003/10/Serialization/Arrays" xmlns:i="http://www.w3.org/2001/XMLSchema-instance" i:type="ServiceDefinitionEntity" xmlns="MetraTech">
  <Availability>Unknown</Availability>
  <DatabaseNameMapping i:nil="true" />
  <DefaultValue i:nil="true" />
  <Description>Payment Server stores 2 categories of information: account and payment method.
      Account information is data common to all payment methods, such as, account id,
      confirmation requested, retry on failure, etc. Payment method information
      includes credit card numbers and bank account numbers.

      Payment Server has 2 modes of operation: restrict payment methods on record to
      one per payment type and allow multiple payment methods on record for each
      payment type. For example, the former mode restricts a subscriber to store at
      most a single credit card payment method and a single ACH payment method. The
      latter allows for multiple credit car payment methods and multiple ACH payment
      methods for a subscriber. When running in the restricted mode, this service 
      removes the previous payment method prior to adding the new one. 

      This service updates the primary payment method to be the method identified by
      the account id, last four digits of the credit card number, and the account type.

      Typical usage: Synchronous metering.

      Return properties:
      name                        type      length    comment  
      retcode                     int32               CREDITCARDACCOUNT_SUCCESS (0x618F0013L)
                                                      indicates success.
      _AccountID                  int32               A value of -1 indicates an error.

      Current Version: 1.3

      Changes:
      09/20/00 (V1.3)
      - Initial version.</Description>
  <Direction>Input</Direction>
  <IsCore>false</IsCore>
  <Name>ps_cc_updateprimaryindicator</Name>
  <Required>true</Required>
  <Type i:type="PropertyBagType">
    <BaseType>PropertyBag</BaseType>
    <ListType>None</ListType>
    <Name>ServiceDefinition</Name>
    <PropertyBagMode>ExtensibleEntity</PropertyBagMode>
  </Type>
  <Namespace>metratech.com.ServiceDefinitions</Namespace>
  <Properties>
    <CustomProperties>
      <Property i:type="ServiceDefinitionProperty">
        <Availability>Unknown</Availability>
        <DatabaseNameMapping i:nil="true" />
        <DefaultValue i:nil="true" />
        <Description>The account identifier is a numeric value that represents a subscriber.</Description>
        <Direction>Input</Direction>
        <IsCore>false</IsCore>
        <Name>_AccountID</Name>
        <Required>true</Required>
        <Type i:type="NumberType">
          <BaseType>Integer32</BaseType>
          <ListType>None</ListType>
          <FixedUnitOfMeasure i:nil="true" />
          <UnitOfMeasureCategory i:nil="true" />
          <UnitOfMeasureMode>None</UnitOfMeasureMode>
          <UnitOfMeasureProperty i:nil="true" />
        </Type>
      </Property>
      <Property i:type="ServiceDefinitionProperty">
        <Availability>Unknown</Availability>
        <DatabaseNameMapping i:nil="true" />
        <DefaultValue i:nil="true" />
        <Description>The type of the card. For example, MasterCard, Visa, American Express, etc.</Description>
        <Direction>Input</Direction>
        <IsCore>false</IsCore>
        <Name>creditcardtype</Name>
        <Required>true</Required>
        <Type i:type="EnumerationType">
          <BaseType>Enumeration</BaseType>
          <ListType>None</ListType>
          <Category>metratech.com/paymentserver.creditcardtype</Category>
        </Type>
      </Property>
      <Property i:type="ServiceDefinitionProperty">
        <Availability>Unknown</Availability>
        <DatabaseNameMapping i:nil="true" />
        <DefaultValue i:nil="true" />
        <Description>The last four digits of the credit card number. This is a card identifying 
        attribute. The purpose is to identify the card while protecting the card 
        number.</Description>
        <Direction>Input</Direction>
        <IsCore>false</IsCore>
        <Name>lastfourdigits</Name>
        <Required>true</Required>
        <Type i:type="StringType">
          <BaseType>String</BaseType>
          <ListType>None</ListType>
          <Length>4</Length>
        </Type>
      </Property>
      <Property i:type="ServiceDefinitionProperty">
        <Availability>Unknown</Availability>
        <DatabaseNameMapping i:nil="true" />
        <DefaultValue i:nil="true" />
        <Description>Indicates a testing session through a PS pipeline.</Description>
        <Direction>Input</Direction>
        <IsCore>false</IsCore>
        <Name>testsession</Name>
        <Required>true</Required>
        <Type i:type="NumberType">
          <BaseType>Integer32</BaseType>
          <ListType>None</ListType>
          <FixedUnitOfMeasure i:nil="true" />
          <UnitOfMeasureCategory i:nil="true" />
          <UnitOfMeasureMode>None</UnitOfMeasureMode>
          <UnitOfMeasureProperty i:nil="true" />
        </Type>
      </Property>
    </CustomProperties>
  </Properties>
  <AutoDelete>false</AutoDelete>
  <AutoResubmit>false</AutoResubmit>
</PropertyBag>