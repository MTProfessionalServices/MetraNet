<HTML>
  <HEAD>
    <title>Create Billing Group from Pull List</title>
    <LINK rel="STYLESHEET" type="text/css" href="/mam/default/localized/en-us/styles/MAMMenu.css">
      <LINK rel="STYLESHEET" type="text/css" href="/mom/default/localized/en-us/styles/Styles.css">
        <!-- Suggest Box Inludes -->
        <link rel="STYLESHEET" type="text/css" href="/Suggest/Suggest.css">
          <script language="JavaScript" src="/Suggest/Suggest.js"></script>
          <script language="javascript">
          function onSuggestUserSelectResult(userSelectedValue)
          {
            //alert('onSuggestUserSelectResult[' + userSelectedValue + ']');
            
            selectRadioButtonForSpecifyAccounts(); //user convenience to make sure radio button for this option is selected

			if(document.mdm.Accounts.value.length == 0)
			{
				document.mdm.Accounts.value = document.mdm.Accounts.value + userSelectedValue;
			}
			else
			{
				document.mdm.Accounts.value = document.mdm.Accounts.value + '\n' + userSelectedValue;
			}
			//Clear the value since we 'moved' it
			document.mdm.Value.value = '';
			document.mdm.Value.focus();              
		  }
    
    function selectRadioButtonForSpecifyAccounts()
    {
		document.all('RadioTypeSpecifyAccounts').checked=true;
    }
    
    function addToTextField()
    {
      selectRadioButtonForSpecifyAccounts(); //user convenience to make sure radio button for this option is selected
      
      if(document.mdm.Accounts.value.length == 0)
      {
        document.mdm.Accounts.value = document.mdm.Accounts.value + document.mdm.Value.value;
      }
      else
      {
        document.mdm.Accounts.value = document.mdm.Accounts.value + '\n' + document.mdm.Value.value;
      }
      //Clear the value since we 'moved' it
      document.mdm.Value.value = '';
      document.mdm.Value.focus();  
    }
    
    function DoFind(){
      addToTextField();
    }
          </script>
  </HEAD>
  <body onload="SuggestLoad();">
    <FORM name='mdm'>
      <TABLE border="0" cellpadding="1" cellspacing="0" width="100%" s>
        <tr>
          <td Class='CaptionBar' nowrap>Create Billing Group from Pull List</td>
        </tr>
      </TABLE>
      <TABLE width="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0">
        <TR>
          <TD class="captionEWRequired">Interval:&nbsp;</TD>
          <TD class="fieldRequired"><MDMLABEL Name="IntervalID"></MDMLABEL></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired" nowrap>Billing Group:&nbsp;</TD>
          <TD class="fieldRequired"><MDMLABEL Name="BillingGroupName"></MDMLABEL></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired">Type:&nbsp;</TD>
          <TD class="fieldRequired"><MDMLABEL Name="IntervalType"></MDMLABEL></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired">Start:&nbsp;</TD>
          <TD class="fieldRequired"><MDMLABEL Name="IntervalStartDateTime"></MDMLABEL></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired">End:&nbsp;</TD>
          <TD class="fieldRequired"><MDMLABEL Name="IntervalEndDateTime"></MDMLABEL></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired" nowrap>New Group Name:&nbsp;</TD>
          <TD class="fieldRequired"><input name="Name" type="text"></TD>
        </TR>
        <TR>
          <TD class="captionEWRequired">Description:&nbsp;</TD>
          <TD class="fieldRequired"><textarea name="Description" rows="4" cols="50"></textarea></TD>
        </TR>
      </TABLE>
      <div class="sectionCaptionBar" style="FONT-SIZE:11px">What accounts should be 
        included in this new billing group?</div>
      <TABLE width="90%" BORDER="0" CELLPADDING="3" CELLSPACING="0" ID="Table1" style="MARGIN-LEFT:30px">
        #MDMIF USE_RUNID
        <TR>
          <TD name="AccountsCell" width="300"><input type="radio" name="RadioType" value="ALL_FAILED_ACCOUNTS" ID="Radio1"><b>All 
              Failed Accounts</b><br>
            Include all failed accounts from the run.</TD>
        </TR>
        #MDMENDIF #MDMNOTIF USE_RUNID
        <TR>
          <TD name="AccountsCell" width="300"><input id="RadioTypeSpecifyAccounts" type="radio" name="RadioType" checked value="SPECIFY_ACCOUNTS"><b>Specify 
              Accounts in a Pull List</b><br>
            A pull list is used to remove accounts from the current billing group. These 
            accounts will be placed in this newly created billing group. Specify either 
            account IDs separated by returns or username\namespace pairs separated by 
            returns. You may also use the inline account finder below to add accounts to 
            the textbox.
            <br>
            <br>
            <!-- INLINE ACCOUNT FINDER -->
            <div id="Div1" class="TableCell" style="BORDER-RIGHT:black 1px solid;BORDER-TOP:black 1px solid;BORDER-LEFT:black 1px solid;WIDTH:230px;BORDER-BOTTOM:black 1px solid">
              <b>Find Account</b><br>
              <SELECT class="clsFindInputBox" style="WIDTH:130px" name="SearchOn" ID="Select1">
              </SELECT><br>
              <input name="Value" id="Value" type="text" onFocus= "selectRadioButtonForSpecifyAccounts();" onkeyup="SendQuery(this, 'ACCOUNT_FINDER', document.mdm.SearchOn.value + ',' + document.mdm.Value.value + ',' + '_NAMESPACETYPE' + ',' + 'system_mps' + ',' + 'ACCOUNTTYPENAME' + ',' + '\'CORPORATEACCOUNT\'|\'CORESUBSCRIBER\'|\'DEPARTMENTACCOUNT\'|\'INDEPENDENTACCOUNT\''+ ',INCLUDEACCOUNTID,TRUE', '[SERIALIZED_CONTEXT]');"
                style="WIDTH:130px" autocomplete="off" class="clsFindInputBox" dropEvent="GetFieldID">
              <a href="#" onclick="SendQueryClick(document.mdm.Value, 'ACCOUNT_FINDER', document.mdm.SearchOn.value + ',' + document.mdm.Value.value + ',' + '_NAMESPACETYPE' + ',' + 'system_mps' + ',' + 'ACCOUNTTYPENAME' + ',' + '\'CORPORATEACCOUNT\'|\'CORESUBSCRIBER\'|\'DEPARTMENTACCOUNT\'|\'INDEPENDENTACCOUNT\'' + ',INCLUDEACCOUNTID,TRUE', '[SERIALIZED_CONTEXT]');"
                ID="Button1" name="Button1"><img src="/mam/default/localized/en-us/images/search.gif" alt="Inline Search" style="BORDER-RIGHT:0px;BORDER-TOP:0px;BORDER-LEFT:0px;BORDER-BOTTOM:0px">
              </a><img name="suggestLoading_Value" id="suggestLoading_Value" class="clsSuggestLoading"
                src="/suggest/suggest.gif">
                <!-- <img style="CURSOR:hand" border="0" alt="Add account to text field" onclick="addToTextField();"
                name="addArrow" id="Img2" src="/suggest/AddArrow.gif">-->
              <div name="autocomplete_Value" id="autocomplete_Value" class="clsSuggestBox" style="WIDTH:200px"></div>
              <iframe id="DivShim_Value" src="javascript:false;" scrolling="no" frameborder="0" style="DISPLAY:none; LEFT:0px; WIDTH:0px; POSITION:absolute; TOP:0px; HEIGHT:0px"></iframe>
            </div>
          </TD>
          <TD class="fieldRequired"><textarea onKeyDown="selectRadioButtonForSpecifyAccounts();" name="Accounts" rows="13" cols="50"></textarea></TD>
        </TR>
        <TR>
          <TD colspan="2" class="fieldRequired" height="1"></TD>
        </TR>
        <TR>
          <TD width="300"><br>
            <input type="radio" name="RadioType" value="CREATE_GROUP_FROM_FILE"><b>Create 
              Pull List From File</b>
            <br>
            A pull list file is used to remove accounts from the current billing group. 
            These accounts will be placed in this newly created billing group. The file 
            format is a UTF-8 encoded text file that specifies either account IDs separated 
            by returns or username comma namespace pairs separated by returns.
          </TD>
        </TR>
        #MDMENDIF
        <TR>
          <TD colspan="3">
            <center>
              <br>
              <br>
              <button OnClick="mdm_RefreshDialog(this)" name="ok" Class="clsOkButton" type="button">
                <MDMLABEL Name="TEXT_OK"></MDMLABEL>
              </button>
              <button onclick="window.close();" name="cancel" Class="clsOkButton" type="button">
                <MDMLABEL Name="TEXT_CANCEL"></MDMLABEL>
              </button>
            </center>
          </TD>
        </TR>
      </TABLE>
    </FORM>
  </body>
</HTML>
