<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title> End-of-Period Processing </title>
<meta name="Generator" content="Author-it" />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="Keywords" content="End-of-Period Processing" />
<script type="text/javascript" src="dhtml_toc.js"></script>
<script type="text/javascript" src="open_parent.js"></script>
<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<base target="BODY" />
<style type="text/css">
a
{color:#555555; text-decoration:none;border-bottom:1px dotted;
}
a:hover
{color:#0000FF; text-decoration:none;border-bottom:1px solid;
}
<!--
.footer {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 10px;
}
-->
</style>
</head>

<div id = "div1"></div>

<script type="text/javascript">
function showMessage() {
var emsubj = encodeURI(document.title);
var embody = encodeURI(window.location.href);
var text = "<a href=\"mailto:techdoc@metratech.com?subject=" + emsubj + "&amp;body=" + embody + "\"><img src='mail.png' alt='Mail link' border='0'></a>"
document.getElementById("div1").innerHTML = text;
}
</script>

<body background="#ffffff" onload="loadParent();showMessage();if (isTOCLoaded()) {expand('4637');expand('4626');expand('13614');highlight('4639')}">

<table border="0" width="90%">
  <tr valign="top"><td>
    <table class="relatedtopics aboveheading" cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "18">
<p class="bodytext"><a href="usm_and_intervals.htm" target="_self"><img src="nexticon.gif" alt="Next Topic" height="17" width="18" vspace="0" hspace="0" align="bottom" border="0" /></a></p></td>
<td width= "18">
<p class="bodytext"><a href="about_usage_server_maintenance.htm" target="_self"><img src="previousicon.gif" alt="Previous Topic" height="17" width="18" vspace="0" hspace="0" align="bottom" border="0" /></a></p></td>
<td width= "48">
<p class="bodytext"><a href="indexpage.htm" target="TOC"><img src="indexicon.gif" alt="Book Index" height="1" width="1" vspace="2" hspace="2" align="bottom" border="0" /></a></p></td>
</tr>
</table>
<h4 class="heading4">End-of-Period Processing</h4>
<p class="bodytext">End-of-period processing performs the calendar-driven calculations and database updates required for the production of subscriber invoices. End-of-period processing includes operations such as:</p>
<ul class="listbullet"><li class="listbullet">Recurring charge calculation (such as monthly or weekly subscriber fees).</li><li class="listbullet">Non-recurring charge calculation (such as subscription or unsubscription charges).</li><li class="listbullet">Aggregate rating of usage charges (rating based on overall volumes of usage).</li><li class="listbullet">Discount calculation.</li><li class="listbullet">Generation of data necessary for customer invoices.</li></ul><p class="bodytext">In order for any end-of-period or scheduled processing to occur, the Billing Server must be running. To start Billing Server, type <strong class="strong">net start billingserver </strong>at the command line.</p>
<p class="bodytext">Because it is likely that end-of-period billing adapters will meter transactions to the pipeline during processing, you should also be sure that the pipeline is running. You can start the pipeline by typing <strong class="strong">net start billingserver </strong>at the command line.</p>
<p class="bodytext">Here are the key processes involved in performing end-of-period processing:&nbsp;&nbsp;&nbsp;</p>
<ul class="listbullet"><li class="listbullet"><strong class="strong">Billing Group Creation and State Changes</strong>: Operators create billing groups and then change their state to <script type="text/javascript"> popup4765 = "Soft Closed\rA billing group's state is soft closed during its end-of-period processing. During soft close, the system performs functions such as end-of-period bill calculations and the creation of subscriber invoices. An interval cannot accept additional usage transactions during soft close, even if the transaction is for usage occurring during the interval's effective period. \xA0\xA0\xA0\r"</script><a id="h4844" class="popup" title="Definition: Soft Closed" href="javascript:hhctrl.TextPopup(popup4765, 'Arial,9',10,10,10,10)">soft closed</a>.</li><li class="listbullet"><strong class="strong">Adapters</strong>: are the actual processing components that USM triggers. <em class="emphasis">End-of-period billing adapters</em> run on all billing groups that operators have changed to soft closed (therefore adapters run on each of the accounts that use these intervals). A second adapter type,<strong class="strong"> </strong><em class="emphasis">Scheduled adapters,</em> process data regardless of the interval a transaction resides in.</li><li class="listbullet"><strong class="strong">Processing Checkpoints</strong>: allow you to confirm data processing for a specific set of adapters before other adapters run. Processing resumes once you acknowledge the adapter group&#8217;s Processing Checkpoint. Usually, the final item in soft close processing will be the hard close checkpoint. When you acknowledge this checkpoint, the interval will be <script type="text/javascript"> popup4732 = "After the system has finished processing all adapters during soft close for a given billing group, and you have checked all of its processed data, you can place the billing group in a Hard Closed state. Hard Close \x22seals\x94 the billing group from receiving any new processing for the interval (including the reversal of completed adapter runs).\r"</script><a id="h4845" class="popup" title="Definition: Hard Closed" href="javascript:hhctrl.TextPopup(popup4732, 'Arial,9',10,10,10,10)">hard closed</a>.</li></ul><p class="bodytext">You can:</p>
<ul class="listbullet"><li class="listbullet"><strong class="strong">Configure what processes run automatically during usage server maintenance</strong> by clicking into: Usage Server Maintenance » Configuration</li><li class="listbullet"><strong class="strong">View the intervals presently in soft closed</strong> by clicking into the following page in the MetraControl module: Interval Management » All</li><li class="listbullet"><strong class="strong">View an interval's adapter processing progress</strong> by clicking into: Interval Management » [All, Expired, Active/Open, or Hard Closed Intervals] » [Interval ID]</li></ul>
<OBJECT id='hhctrl' type='application/x-oleobject' classid='clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11' codebase='hhctrl.ocx'><PARAM name='Command' value='HH Version' /></OBJECT>

  </td></tr></table>
<table width="100%" style = "border-top:1px solid #010101; margin-top: 24px; padding-top: 6px;"><tr valign="bottom"><td>
    <span class="footer">MetraTech Proprietary and Confidential - MetraNet 7.0.1</span></td>
</tr></table>
</body>
</html>
