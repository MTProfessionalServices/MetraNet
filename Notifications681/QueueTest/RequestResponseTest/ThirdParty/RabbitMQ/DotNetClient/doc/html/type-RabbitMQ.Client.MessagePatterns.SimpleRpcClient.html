<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>public class SimpleRpcClient</title>
<link rel="stylesheet" rev="stylesheet" href="style.css" type="text/css">
</head>
<body>
<div class="upLinks">
<a href="index.html">Index</a> |
	  Namespace <a href="namespace-RabbitMQ.Client.MessagePatterns.html">RabbitMQ.Client.MessagePatterns</a>
</div>
<h1>public class SimpleRpcClient</h1>
<ul><li>implements <code><code><span class="nonlocalTypeLink" title="System.IDisposable">IDisposable</span></code></code>
</li></ul>
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Implements a simple RPC client.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             This class sends requests that can be processed by remote
             SimpleRpcServer instances.
            </p>
<p>
             The basic pattern for accessing a remote service is to
             determine the exchange name and routing key needed for
             submissions of service requests, and to construct a
             SimpleRpcClient instance using that address. Once constructed,
             the various Call() and Cast() overloads can be used to send
             requests and receive the corresponding replies.
            </p>
<div class="example"><pre class="code">
            	string queueName = "ServiceRequestQueue"; // See also Subscription ctors
            	using (IConnection conn = new ConnectionFactory()
            	                                .CreateConnection(serverAddress)) {
            	    using (IModel ch = conn.CreateModel()) {
            	        SimpleRpcClient client =
            	            new SimpleRpcClient(ch, queueName);
            	        client.TimeoutMilliseconds = 5000; // optional
            
            	        /// ... make use of the various Call() overloads
            	    }
            	}
            </pre></div>
<p>
             Instances of this class declare a queue, so it is the user's
             responsibility to ensure that the exchange concerned exists
             (using IModel.ExchangeDeclare) before invoking Call() or
             Cast().
            </p>
<p>
             This class implements only a few basic RPC message formats -
             to extend it with support for more formats, either subclass,
             or transcode the messages before transmission using the
             built-in byte[] format.
            </p>
</div>
</div>
<div class="fullDoc seeAlso">
<h4>See</h4>
<div class="fullDocBody"><ul><li><code><a class="localTypeLink" title="RabbitMQ.Client.MessagePatterns.SimpleRpcServer" href="type-RabbitMQ.Client.MessagePatterns.SimpleRpcServer.html">RabbitMQ.Client.MessagePatterns.SimpleRpcServer</a></code></li></ul></div>
</div>
<h2>Property Summary</h2>
<table class="propertySummaryTable">
<tr>
<th class="propertyFlagsHeader">Flags</th>
<th class="propertyTypeHeader">Type</th>
<th class="propertyNameHeader">Name</th>
<th class="propertySummaryHeader">Summary</th>
</tr>
<tr>
<td class="propertyFlags">public </td>
<td class="propertyType"><code><a class="localTypeLink" title="RabbitMQ.Client.PublicationAddress" href="type-RabbitMQ.Client.PublicationAddress.html">PublicationAddress</a></code></td>
<td class="propertyName">
<a href="#property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Address"><code>Address</code></a><span class="propertyAccessibility"> (rw)</span>
</td>
<td class="propertySummary"><p class="docSummary documented">Retrieve or modify the address that will be used
            for the next Call() or Cast().</p></td>
</tr>
<tr>
<td class="propertyFlags">public </td>
<td class="propertyType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></td>
<td class="propertyName">
<a href="#property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Model"><code>Model</code></a><span class="propertyAccessibility"> (r)</span>
</td>
<td class="propertySummary"><p class="docSummary documented">Retrieve the IModel this instance uses to communicate.</p></td>
</tr>
<tr>
<td class="propertyFlags">public </td>
<td class="propertyType"><code><a class="localTypeLink" title="RabbitMQ.Client.MessagePatterns.Subscription" href="type-RabbitMQ.Client.MessagePatterns.Subscription.html">Subscription</a></code></td>
<td class="propertyName">
<a href="#property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Subscription"><code>Subscription</code></a><span class="propertyAccessibility"> (r)</span>
</td>
<td class="propertySummary"><p class="docSummary documented">Retrieve the Subscription that is used to receive
            RPC replies corresponding to Call() RPC requests. May be
            null.</p></td>
</tr>
<tr>
<td class="propertyFlags">public </td>
<td class="propertyType"><code><code><span class="nonlocalTypeLink" title="System.Int32">int</span></code></code></td>
<td class="propertyName">
<a href="#property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.TimeoutMilliseconds"><code>TimeoutMilliseconds</code></a><span class="propertyAccessibility"> (rw)</span>
</td>
<td class="propertySummary"><p class="docSummary documented">Retrieve or modify the timeout (in milliseconds)
            that will be used for the next Call().</p></td>
</tr>
</table>
<h2>Event Summary</h2>
<table class="eventSummaryTable">
<tr>
<th class="eventTypeHeader">Type</th>
<th class="eventNameHeader">Name</th>
<th class="eventSummaryHeader">Summary</th>
</tr>
<tr>
<td class="eventType"><code><code><span class="nonlocalTypeLink" title="System.EventHandler">EventHandler</span></code></code></td>
<td class="eventName"><a href="#event-E:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Disconnected"><code>Disconnected</code></a></td>
<td class="eventSummary"><p class="docSummary documented">This event is fired whenever Call() detects the
            disconnection of the underlying Subscription while waiting
            for a reply from the service.</p></td>
</tr>
<tr>
<td class="eventType"><code><code><span class="nonlocalTypeLink" title="System.EventHandler">EventHandler</span></code></code></td>
<td class="eventName"><a href="#event-E:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.TimedOut"><code>TimedOut</code></a></td>
<td class="eventSummary"><p class="docSummary documented">This event is fired whenever Call() decides that a
            timeout has occurred while waiting for a reply from the
            service.</p></td>
</tr>
</table>
<h2>Constructor Summary</h2>
<table class="methodSummaryTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<th class="methodNameHeader">Name</th>
<th class="methodSummaryHeader">Summary</th>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,System.String,System.String,System.String)"><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">string</span> exchange, <span class="parameterType">string</span> exchangeType, <span class="parameterType">string</span> routingKey)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Construct an instance that will deliver to the
            named and typed exchange, with the given routing
            key.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,RabbitMQ.Client.PublicationAddress)"><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">PublicationAddress</span> address)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Construct an instance that will deliver to the
            given address.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel)"><code>SimpleRpcClient(<span class="parameterType">IModel</span> model)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Construct an instance with no configured
            Address. The Address property must be set before Call() or
            Cast() are called.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,System.String)"><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">string</span> queueName)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Construct an instance that will deliver to the
            default exchange (""), with routing key equal to the passed
            in queueName, thereby delivering directly to a named queue
            on the AMQP server.</p></td>
</tr>
</table>
<h2>Method Summary</h2>
<table class="methodSummaryTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<th class="methodNameHeader">Name</th>
<th class="methodSummaryHeader">Summary</th>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(System.Byte%5B%5D)"><code>byte[] Call(<span class="parameterType">byte[]</span> body)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Sends a simple byte[] message, without any custom
            headers or properties.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D,RabbitMQ.Client.IBasicProperties@)"><code>byte[] Call(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body, <span class="parameterType parameterDirectionOut">out IBasicProperties</span> replyProperties)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Sends a byte[] message and IBasicProperties
            header, returning both the body and headers of the received
            reply.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(System.Object%5B%5D)"><code>object[] Call(<span class="parameterType">object[]</span> args)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Sends a "jms/stream-message"-encoded RPC request,
            and expects an RPC reply in the same format.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"><code>BasicDeliverEventArgs Call(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Sends a byte[]/IBasicProperties RPC request,
            returning full information about the delivered reply as a
            BasicDeliverEventArgs.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Cast(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"><code>void Cast(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Sends an asynchronous/one-way message to the
            service.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Close"><code>void Close()
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Close the reply subscription associated with this instance, if any.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.OnDisconnected"><code>void OnDisconnected()
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Signals that the Subscription we use for receiving
            our RPC replies was disconnected while we were
            waiting.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.OnTimedOut"><code>void OnTimedOut()
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Signals that the configured timeout fired while
            waiting for an RPC reply.</p></td>
</tr>
</table>
<h2>Property Detail</h2>
<div class="propertyDetail">
<a name="property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Address"></a><h3>public PublicationAddress Address<span class="propertyAccessibility"> (rw)</span>
</h3>
<div class="propertyDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Retrieve or modify the address that will be used
            for the next Call() or Cast().</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             This address represents the service, i.e. the destination
             service requests should be published to. It can be changed
             at any time before a Call() or Cast() request is sent -
             the value at the time of the call is used by Call() and
             Cast().
            </div>
</div>
</div>
</div>
<div class="propertyDetail">
<a name="property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Model"></a><h3>public IModel Model<span class="propertyAccessibility"> (r)</span>
</h3>
<div class="propertyDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Retrieve the IModel this instance uses to communicate.</div>
</div></div>
</div>
<div class="propertyDetail">
<a name="property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Subscription"></a><h3>public Subscription Subscription<span class="propertyAccessibility"> (r)</span>
</h3>
<div class="propertyDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Retrieve the Subscription that is used to receive
            RPC replies corresponding to Call() RPC requests. May be
            null.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody"><p>
             Upon construction, this property will be null. It is
             initialised by the protected virtual method
             EnsureSubscription upon the first call to Call(). Calls to
             Cast() do not initialise the subscription, since no
             replies are expected or possible when using Cast().
            </p></div>
</div>
</div>
</div>
<div class="propertyDetail">
<a name="property-P:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.TimeoutMilliseconds"></a><h3>public int TimeoutMilliseconds<span class="propertyAccessibility"> (rw)</span>
</h3>
<div class="propertyDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Retrieve or modify the timeout (in milliseconds)
            that will be used for the next Call().</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             This property defaults to
             System.Threading.Timeout.Infinite (i.e. -1). If it is set
             to any other value, Call() will only wait for the
             specified amount of time before returning indicating a
             timeout.
            </p>
<p>
             See also TimedOut event and OnTimedOut().
            </p>
</div>
</div>
</div>
</div>
<h2>Event Detail</h2>
<div class="eventDetail">
<a name="event-E:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Disconnected"></a><h3>EventHandler Disconnected</h3>
<div class="eventDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">This event is fired whenever Call() detects the
            disconnection of the underlying Subscription while waiting
            for a reply from the service.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             See also OnDisconnected(). Note that the sending of a
             request may result in OperationInterruptedException before
             the request is even sent.
            </div>
</div>
</div>
</div>
<div class="eventDetail">
<a name="event-E:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.TimedOut"></a><h3>EventHandler TimedOut</h3>
<div class="eventDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">This event is fired whenever Call() decides that a
            timeout has occurred while waiting for a reply from the
            service.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             See also OnTimedOut().
            </div>
</div>
</div>
</div>
<h2>Constructor Detail</h2>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,System.String,System.String,System.String)"></a><h3>SimpleRpcClient</h3>
<p><code>public </code><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">string</span> exchange, <span class="parameterType">string</span> exchangeType, <span class="parameterType">string</span> routingKey)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
<tr>
<td class="parameterName">exchange</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">exchangeType</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">routingKey</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Construct an instance that will deliver to the
            named and typed exchange, with the given routing
            key.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,RabbitMQ.Client.PublicationAddress)"></a><h3>SimpleRpcClient</h3>
<p><code>public </code><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">PublicationAddress</span> address)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
<tr>
<td class="parameterName">address</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.PublicationAddress" href="type-RabbitMQ.Client.PublicationAddress.html">PublicationAddress</a></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Construct an instance that will deliver to the
            given address.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel)"></a><h3>SimpleRpcClient</h3>
<p><code>public </code><code>SimpleRpcClient(<span class="parameterType">IModel</span> model)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Construct an instance with no configured
            Address. The Address property must be set before Call() or
            Cast() are called.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.#ctor(RabbitMQ.Client.IModel,System.String)"></a><h3>SimpleRpcClient</h3>
<p><code>public </code><code>SimpleRpcClient(<span class="parameterType">IModel</span> model, <span class="parameterType">string</span> queueName)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
<tr>
<td class="parameterName">queueName</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Construct an instance that will deliver to the
            default exchange (""), with routing key equal to the passed
            in queueName, thereby delivering directly to a named queue
            on the AMQP server.</div>
</div></div>
</div>
<h2>Method Detail</h2>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(System.Byte%5B%5D)"></a><h3>Call</h3>
<p><code>public virtual </code><code>byte[] Call(<span class="parameterType">byte[]</span> body)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">body</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Sends a simple byte[] message, without any custom
            headers or properties.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             Delegates directly to Call(IBasicProperties, byte[]), and
             discards the properties of the received reply, returning
             only the body of the reply.
            </p>
<p>
             Calls OnTimedOut() and OnDisconnected() when a timeout or
             disconnection, respectively, is detected when waiting for
             our reply.
            </p>
<p>
             Returns null if the request timed out or if we were
             disconnected before a reply arrived.
            </p>
<p>
             The reply message, if any, is acknowledged to the AMQP
             server via Subscription.Ack().
            </p>
</div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D,RabbitMQ.Client.IBasicProperties@)"></a><h3>Call</h3>
<p><code>public virtual </code><code>byte[] Call(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body, <span class="parameterType parameterDirectionOut">out IBasicProperties</span> replyProperties)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">requestProperties</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IBasicProperties" href="type-RabbitMQ.Client.IBasicProperties.html">IBasicProperties</a></code></span></td>
</tr>
<tr>
<td class="parameterName">body</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">replyProperties</td>
<td class="parameterType"><span class="parameterType parameterDirectionOut"><code>out </code><code><a class="localTypeLink" title="RabbitMQ.Client.IBasicProperties" href="type-RabbitMQ.Client.IBasicProperties.html">IBasicProperties</a></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Sends a byte[] message and IBasicProperties
            header, returning both the body and headers of the received
            reply.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             Sets the "replyProperties" outbound parameter to the
             properties of the received reply, and returns the byte[]
             body of the reply.
            </p>
<p>
             Calls OnTimedOut() and OnDisconnected() when a timeout or
             disconnection, respectively, is detected when waiting for
             our reply.
            </p>
<p>
             Both sets "replyProperties" to null and returns null when
             either the request timed out or we were disconnected
             before a reply arrived.
            </p>
<p>
             The reply message, if any, is acknowledged to the AMQP
             server via Subscription.Ack().
            </p>
</div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(System.Object%5B%5D)"></a><h3>Call</h3>
<p><code>public virtual </code><code>object[] Call(<span class="parameterType">object[]</span> args)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Object">object[]</span></code></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">args</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Object">object[]</span></code></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Sends a "jms/stream-message"-encoded RPC request,
            and expects an RPC reply in the same format.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             The arguments passed in must be of types that are
             representable as JMS StreamMessage values, and so must the
             results returned from the service in its reply message.
            </p>
<p>
             Calls OnTimedOut() and OnDisconnected() when a timeout or
             disconnection, respectively, is detected when waiting for
             our reply.
            </p>
<p>
             Returns null if the request timed out or if we were
             disconnected before a reply arrived.
            </p>
<p>
             The reply message, if any, is acknowledged to the AMQP
             server via Subscription.Ack().
            </p>
</div>
</div>
<div class="fullDoc seeAlso">
<h4>See</h4>
<div class="fullDocBody"><ul>
<li><code><a class="localTypeLink" title="RabbitMQ.Client.Content.IStreamMessageBuilder" href="type-RabbitMQ.Client.Content.IStreamMessageBuilder.html">RabbitMQ.Client.Content.IStreamMessageBuilder</a></code></li>
<li><code><a class="localTypeLink" title="RabbitMQ.Client.Content.IStreamMessageReader" href="type-RabbitMQ.Client.Content.IStreamMessageReader.html">RabbitMQ.Client.Content.IStreamMessageReader</a></code></li>
</ul></div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Call(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"></a><h3>Call</h3>
<p><code>public virtual </code><code>BasicDeliverEventArgs Call(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><a class="localTypeLink" title="RabbitMQ.Client.Events.BasicDeliverEventArgs" href="type-RabbitMQ.Client.Events.BasicDeliverEventArgs.html">BasicDeliverEventArgs</a></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">requestProperties</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IBasicProperties" href="type-RabbitMQ.Client.IBasicProperties.html">IBasicProperties</a></code></span></td>
</tr>
<tr>
<td class="parameterName">body</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Sends a byte[]/IBasicProperties RPC request,
            returning full information about the delivered reply as a
            BasicDeliverEventArgs.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             This is the most general/lowest-level Call()-style method
             on SimpleRpcClient. It sets CorrelationId and ReplyTo on
             the request message's headers before transmitting the
             request to the service via the AMQP server. If the reply's
             CorrelationId does not match the request's CorrelationId,
             ProtocolViolationException will be thrown.
            </p>
<p>
             Calls OnTimedOut() and OnDisconnected() when a timeout or
             disconnection, respectively, is detected when waiting for
             our reply.
            </p>
<p>
             Returns null if the request timed out or if we were
             disconnected before a reply arrived.
            </p>
<p>
             The reply message, if any, is acknowledged to the AMQP
             server via Subscription.Ack().
            </p>
</div>
</div>
<div class="fullDoc seeAlso">
<h4>See</h4>
<div class="fullDocBody"><ul><li><code><a class="localTypeLink" title="System.Net.ProtocolViolationException" href="type-System.Net.ProtocolViolationException.html">System.Net.ProtocolViolationException</a></code></li></ul></div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Cast(RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"></a><h3>Cast</h3>
<p><code>public virtual </code><code>void Cast(<span class="parameterType">IBasicProperties</span> requestProperties, <span class="parameterType">byte[]</span> body)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">requestProperties</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IBasicProperties" href="type-RabbitMQ.Client.IBasicProperties.html">IBasicProperties</a></code></span></td>
</tr>
<tr>
<td class="parameterName">body</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Sends an asynchronous/one-way message to the
            service.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.Close"></a><h3>Close</h3>
<p><code>public </code><code>void Close()
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Close the reply subscription associated with this instance, if any.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             Simply delegates to calling Subscription.Close(). Clears
             the Subscription property, so that subsequent Call()s, if
             any, will re-initialize it to a fresh Subscription
             instance.
            </div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.OnDisconnected"></a><h3>OnDisconnected</h3>
<p><code>public virtual </code><code>void OnDisconnected()
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Signals that the Subscription we use for receiving
            our RPC replies was disconnected while we were
            waiting.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             Fires the Disconnected event.
            </div>
</div>
</div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.MessagePatterns.SimpleRpcClient.OnTimedOut"></a><h3>OnTimedOut</h3>
<p><code>public virtual </code><code>void OnTimedOut()
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
</table>
<div class="methodDetailDoc">
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Signals that the configured timeout fired while
            waiting for an RPC reply.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
             Fires the TimedOut event.
            </div>
</div>
</div>
</div>
</body>
</html>
