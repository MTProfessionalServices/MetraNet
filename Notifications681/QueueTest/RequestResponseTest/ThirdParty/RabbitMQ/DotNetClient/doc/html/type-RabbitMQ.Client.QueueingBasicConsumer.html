<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>public class QueueingBasicConsumer</title>
<link rel="stylesheet" rev="stylesheet" href="style.css" type="text/css">
</head>
<body>
<div class="upLinks">
<a href="index.html">Index</a> |
	  Namespace <a href="namespace-RabbitMQ.Client.html">RabbitMQ.Client</a>
</div>
<h1>public class QueueingBasicConsumer</h1>
<ul><li>extends <code><a class="localTypeLink" title="RabbitMQ.Client.DefaultBasicConsumer" href="type-RabbitMQ.Client.DefaultBasicConsumer.html">DefaultBasicConsumer</a></code>
</li></ul>
<div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Simple IBasicConsumer implementation that uses a
            SharedQueue to buffer incoming deliveries.</div>
</div>
<div class="fullDoc">
<h4>Remarks</h4>
<div class="fullDocBody">
<p>
             Received messages are placed in the SharedQueue as instances
             of BasicDeliverEventArgs.
            </p>
<p>
             Note that messages taken from the SharedQueue may need
             acknowledging with IModel.BasicAck.
            </p>
<p>
             When the consumer is closed, through BasicCancel or through
             the shutdown of the underlying IModel or IConnection, the
             SharedQueue's Close() method is called, which causes any
             Enqueue() operations, and Dequeue() operations when the queue
             is empty, to throw EndOfStreamException (see the comment for
             SharedQueue.Close()).
            </p>
<p>
             The following is a simple example of the usage of this class:
            </p>
<div class="example"><pre class="code">
            	IModel channel = ...;
            	QueueingBasicConsumer consumer = new QueueingBasicConsumer(channel);
            	channel.BasicConsume(queueName, null, consumer);
            	
            	// At this point, messages will be being asynchronously delivered,
            	// and will be queueing up in consumer.Queue.
            	
            	while (true) {
            	    try {
            	        BasicDeliverEventArgs e = (BasicDeliverEventArgs) consumer.Queue.Dequeue();
            	        // ... handle the delivery ...
            	        channel.BasicAck(e.DeliveryTag, false);
            	    } catch (EndOfStreamException ex) {
            	        // The consumer was cancelled, the model closed, or the
            	        // connection went away.
            	        break;
            	    }
            	}
            </pre></div>
</div>
</div>
<h2>Property Summary</h2>
<table class="propertySummaryTable">
<tr>
<th class="propertyFlagsHeader">Flags</th>
<th class="propertyTypeHeader">Type</th>
<th class="propertyNameHeader">Name</th>
<th class="propertySummaryHeader">Summary</th>
</tr>
<tr>
<td class="propertyFlags">public </td>
<td class="propertyType"><code><a class="localTypeLink" title="RabbitMQ.Util.SharedQueue" href="type-RabbitMQ.Util.SharedQueue.html">SharedQueue</a></code></td>
<td class="propertyName">
<a href="#property-P:RabbitMQ.Client.QueueingBasicConsumer.Queue"><code>Queue</code></a><span class="propertyAccessibility"> (r)</span>
</td>
<td class="propertySummary"><p class="docSummary documented">Retrieves the SharedQueue that messages arrive on.</p></td>
</tr>
</table>
<h2>Constructor Summary</h2>
<table class="methodSummaryTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<th class="methodNameHeader">Name</th>
<th class="methodSummaryHeader">Summary</th>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor(RabbitMQ.Client.IModel,RabbitMQ.Util.SharedQueue)"><code>QueueingBasicConsumer(<span class="parameterType">IModel</span> model, <span class="parameterType">SharedQueue</span> queue)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Creates a fresh QueueingBasicConsumer,
            initialising the Model and Queue properties to the given
            values.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor(RabbitMQ.Client.IModel)"><code>QueueingBasicConsumer(<span class="parameterType">IModel</span> model)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Creates a fresh QueueingBasicConsumer, with Model
            set to the argument, and Queue set to a fresh
            SharedQueue.</p></td>
</tr>
<tr>
<td class="methodFlags">public </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor"><code>QueueingBasicConsumer()
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Creates a fresh QueueingBasicConsumer,
            initialising the Model property to null and the Queue
            property to a fresh SharedQueue.</p></td>
</tr>
</table>
<h2>Method Summary</h2>
<table class="methodSummaryTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<th class="methodNameHeader">Name</th>
<th class="methodSummaryHeader">Summary</th>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.QueueingBasicConsumer.HandleBasicDeliver(System.String,System.UInt64,System.Boolean,System.String,System.String,RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"><code>void HandleBasicDeliver(<span class="parameterType">string</span> consumerTag, <span class="parameterType">ulong</span> deliveryTag, <span class="parameterType">bool</span> redelivered, <span class="parameterType">string</span> exchange, <span class="parameterType">string</span> routingKey, <span class="parameterType">IBasicProperties</span> properties, <span class="parameterType">byte[]</span> body)
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Overrides DefaultBasicConsumer's
            HandleBasicDeliver implementation, building a
            BasicDeliverEventArgs instance and placing it in the
            Queue.</p></td>
</tr>
<tr>
<td class="methodFlags">public virtual </td>
<td class="methodName"><a href="#method-M:RabbitMQ.Client.QueueingBasicConsumer.OnCancel"><code>void OnCancel()
  </code></a></td>
<td class="methodSummary"><p class="docSummary documented">Overrides DefaultBasicConsumer's OnCancel
            implementation, extending it to call the Close() method of
            the SharedQueue.</p></td>
</tr>
</table>
<h2>Property Detail</h2>
<div class="propertyDetail">
<a name="property-P:RabbitMQ.Client.QueueingBasicConsumer.Queue"></a><h3>public SharedQueue Queue<span class="propertyAccessibility"> (r)</span>
</h3>
<div class="propertyDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Retrieves the SharedQueue that messages arrive on.</div>
</div></div>
</div>
<h2>Constructor Detail</h2>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor(RabbitMQ.Client.IModel,RabbitMQ.Util.SharedQueue)"></a><h3>QueueingBasicConsumer</h3>
<p><code>public </code><code>QueueingBasicConsumer(<span class="parameterType">IModel</span> model, <span class="parameterType">SharedQueue</span> queue)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
<tr>
<td class="parameterName">queue</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Util.SharedQueue" href="type-RabbitMQ.Util.SharedQueue.html">SharedQueue</a></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Creates a fresh QueueingBasicConsumer,
            initialising the Model and Queue properties to the given
            values.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor(RabbitMQ.Client.IModel)"></a><h3>QueueingBasicConsumer</h3>
<p><code>public </code><code>QueueingBasicConsumer(<span class="parameterType">IModel</span> model)
  </code></p>
<table class="methodDetailTable"><tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">model</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IModel" href="type-RabbitMQ.Client.IModel.html">IModel</a></code></span></td>
</tr>
</table></td>
</tr></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Creates a fresh QueueingBasicConsumer, with Model
            set to the argument, and Queue set to a fresh
            SharedQueue.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.QueueingBasicConsumer.#ctor"></a><h3>QueueingBasicConsumer</h3>
<p><code>public </code><code>QueueingBasicConsumer()
  </code></p>
<table class="methodDetailTable"></table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Creates a fresh QueueingBasicConsumer,
            initialising the Model property to null and the Queue
            property to a fresh SharedQueue.</div>
</div></div>
</div>
<h2>Method Detail</h2>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.QueueingBasicConsumer.HandleBasicDeliver(System.String,System.UInt64,System.Boolean,System.String,System.String,RabbitMQ.Client.IBasicProperties,System.Byte%5B%5D)"></a><h3>HandleBasicDeliver</h3>
<p><code>public virtual </code><code>void HandleBasicDeliver(<span class="parameterType">string</span> consumerTag, <span class="parameterType">ulong</span> deliveryTag, <span class="parameterType">bool</span> redelivered, <span class="parameterType">string</span> exchange, <span class="parameterType">string</span> routingKey, <span class="parameterType">IBasicProperties</span> properties, <span class="parameterType">byte[]</span> body)
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
<tr>
<th class="parametersHeader">Parameters</th>
<td class="parameters"><table class="parametersTable">
<tr>
<th class="parameterNameHeader">Name</th>
<th class="parameterTypeHeader">Type</th>
</tr>
<tr>
<td class="parameterName">consumerTag</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">deliveryTag</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.UInt64">ulong</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">redelivered</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Boolean">bool</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">exchange</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">routingKey</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.String">string</span></code></code></span></td>
</tr>
<tr>
<td class="parameterName">properties</td>
<td class="parameterType"><span class="parameterType"><code><a class="localTypeLink" title="RabbitMQ.Client.IBasicProperties" href="type-RabbitMQ.Client.IBasicProperties.html">IBasicProperties</a></code></span></td>
</tr>
<tr>
<td class="parameterName">body</td>
<td class="parameterType"><span class="parameterType"><code><code><span class="nonlocalTypeLink" title="System.Byte">byte[]</span></code></code></span></td>
</tr>
</table></td>
</tr>
</table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Overrides DefaultBasicConsumer's
            HandleBasicDeliver implementation, building a
            BasicDeliverEventArgs instance and placing it in the
            Queue.</div>
</div></div>
</div>
<div class="methodDetail">
<a name="method-M:RabbitMQ.Client.QueueingBasicConsumer.OnCancel"></a><h3>OnCancel</h3>
<p><code>public virtual </code><code>void OnCancel()
  </code></p>
<table class="methodDetailTable">
<tr>
<th class="methodFlagsHeader">Flags</th>
<td class="methodFlags">public virtual </td>
</tr>
<tr>
<th class="returnTypeHeader">Return type</th>
<td class="returnType"><code><code><span class="nonlocalTypeLink" title="System.Void">void</span></code></code></td>
</tr>
</table>
<div class="methodDetailDoc"><div class="fullDoc">
<h4>Summary</h4>
<div class="fullDocBody">Overrides DefaultBasicConsumer's OnCancel
            implementation, extending it to call the Close() method of
            the SharedQueue.</div>
</div></div>
</div>
</body>
</html>
