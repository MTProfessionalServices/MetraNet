<mt_config>

<applicabilityrule>
  <name>IsTransactionPrebill</name>
  <description>Returns TRUE if a transaction belongs to an open interval</description>
  <displayname>Returns TRUE if a transaction belongs to an open interval</displayname>
  <calculationengine>1</calculationengine>
  <formula>
    <![CDATA[
    CREATE PROCEDURE ApplicabilityRule
    --inputs
    @id_sess INTEGER
    --outputs
    @IsApplicable BOOLEAN OUTPUT
    AS
    DECLARE @sPrebill VARCHAR(1);
    SELECT IsPrebill INTO @sPrebill FROM VW_AJ_INFO
    WHERE id_sess = @id_sess
    SET @IsApplicable = CASE WHEN (@sPrebill = 'Y') THEN TRUE ELSE FALSE END;
    ]]>
  </formula>
</applicabilityrule>

<applicabilityrule>
  <name>IsTransactionPostbill</name>
  <description>Returns TRUE if a transaction belongs to a closed interval</description>
  <displayname>Returns TRUE if a transaction belongs to a closed interval</displayname>
  <calculationengine>1</calculationengine>
  <formula>
    <![CDATA[
    CREATE PROCEDURE ApplicabilityRule
    --inputs
    @id_sess INTEGER
    --outputs
    @IsApplicable BOOLEAN OUTPUT
    AS
   DECLARE @sPrebill VARCHAR(1);
    SELECT IsPrebill INTO @sPrebill FROM VW_AJ_INFO
    WHERE id_sess = @id_sess
    SET @IsApplicable = CASE WHEN (@sPrebill = 'N') THEN TRUE ELSE FALSE END;
    ]]>
  </formula>
</applicabilityrule>

</mt_config>
