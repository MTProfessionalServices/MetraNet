<?xml version="1.0" encoding="utf-8"?>
<xmlconfig>
    <mtsysconfigdata>
        <effective_date ptype="DATETIME">1998-11-19T00:00:00Z</effective_date>
        <timeout ptype="INTEGER">30</timeout>
        <configfiletype>CONFIG_DATA</configfiletype>
    </mtsysconfigdata>
    <mtconfigdata>
        <version ptype="INTEGER">1</version>
        <!-- First processor configuration -->
        <processor>
            <name>PopulateExtensionsGSM</name>
            <progid>MetraPipeline.MTCopyAccountProperties.1</progid>
            <description>Copy properties from the session to an account extension.</description>
      
      <inputs />
      <outputs />
  
	<condition>
      <![CDATA[
      CREATE PROCEDURE condition @_ExecutePlugin BOOLEAN OUTPUT,
       @AccountType NVARCHAR(400)
      AS
	    -- only execute if 
	    -- account type is gsm.
	    IF 
      ( (upper(@AccountType)) = 'GSMSERVICEACCOUNT')
  	 SET @_ExecutePlugin = TRUE
      ELSE
      	SET @_ExecutePlugin = FALSE
	    ]]>
      </condition>

            <!-- Processor specific configuration data -->
            <configdata>
  	    <DestinationAccountID>_AccountID</DestinationAccountID>

        <Properties>
          <!-- t_av_internal data -->
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>timezoneID</SourceProperty>
            <DestinationProperty>timezoneID</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>
   
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>Language</SourceProperty>
            <DestinationProperty>Language</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>
          
           <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>currency</SourceProperty>
            <DestinationProperty>currency</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>resolved_pricelist</SourceProperty>
            <DestinationProperty>pricelist</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>
          
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>billable</SourceProperty>
            <DestinationProperty>billable</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>
          
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>folder</SourceProperty>
            <DestinationProperty>folder</DestinationProperty>
            <DestinationExtension>Internal</DestinationExtension>
          </Property>
          
          
          <!-- t_av_gsm properties -->
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>IMSI</SourceProperty>
            <DestinationProperty>IMSI</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>MSISDN</SourceProperty>
            <DestinationProperty>MSISDN</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>MIN</SourceProperty>
            <DestinationProperty>MIN</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>
          
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>MDN</SourceProperty>
            <DestinationProperty>MDN</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>
          
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>CellIdentity</SourceProperty>
            <DestinationProperty>CellIdentity</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>
          
          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>HomeBID</SourceProperty>
            <DestinationProperty>HomeBID</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>HomeLocationDesc</SourceProperty>
            <DestinationProperty>HomeLocationDesc</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>IMEI</SourceProperty>
            <DestinationProperty>IMEI</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

          <Property>
            <Type>Session</Type>
            <Required ptype="BOOLEAN">False</Required>
            <SourceProperty>ESN</SourceProperty>
            <DestinationProperty>ESN</DestinationProperty>
            <DestinationExtension>GSM</DestinationExtension>
          </Property>

       
        </Properties>
      </configdata>
        </processor>
    </mtconfigdata>
</xmlconfig>