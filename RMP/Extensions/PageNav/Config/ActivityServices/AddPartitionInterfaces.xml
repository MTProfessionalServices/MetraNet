<?xml version="1.0" encoding="utf-8"?>
<MASConfig>
  <MASServices>
    <MASEventService Name="AddPartitionEvents" AllowMultiple="true" IsPageNav="true" Description="The AddPartitionEvents element contains methods necessary to the creation of an account">
      <WorkflowType>
		  <XomlFile>PageNav\Config\ActivityServices\Workflows\AddPartitionWorkflow.xoml</XomlFile>
      </WorkflowType>
      <DataTypeName>Account</DataTypeName>
      <EventMethods>
        
        <EventMethod Name="StartAddPartition" Description="Method to begin the process of adding a Partition account" EventName="Start_AddPartition">
          <ParameterDefs>
            <Parameter Name="AccountId" Description="This is a ref parameter identifying the user account" Type="MetraTech.ActivityServices.Common.AccountIdentifier, MetraTech.ActivityServices.Common" InstanceIdentifier="true">
              <InternalName>AccountId</InternalName>
            </Parameter>
          </ParameterDefs>
        </EventMethod>

        <EventMethod Name="AddPartition" Description="The AddPartition method allows clients to add new accounts to the MetraNet system" EventName="OK_AddPartition">
          <ParameterDefs>
            <Parameter Name="AccountId" Description="This is a ref parameter identifying the user account" Type="MetraTech.ActivityServices.Common.AccountIdentifier, MetraTech.ActivityServices.Common" InstanceIdentifier="true">
              <InternalName>AccountId</InternalName>
            </Parameter>
            <Parameter Name="Account" Description="Parameter specifying an account to be added" Type="MetraTech.DomainModel.BaseTypes.Account, MetraTech.DomainModel.BaseTypes.dll">
              <InternalName>Account</InternalName>
            </Parameter>
            <Parameter Name="NewAccountId" Description="The output of this method is a generated account id" Type="System.Int32" Direction="Out">
              <InternalName>NewAccountId</InternalName>
            </Parameter>
            <Parameter Name="SendEmail" Description="Boolean variable communicating whether or not to send an email  to the new account" Type="System.Boolean" Direction="In">
              <InternalName>SendEmail</InternalName>
            </Parameter>
            <Parameter Name="ApplyAccountTemplates" Description="Method checks this parameter and applies a template if true" Type="System.Boolean" Direction="In">
              <InternalName>ApplyAccountTemplates</InternalName>
            </Parameter>
            <Parameter Name="ContainerNamesCol" Description="List of Container subfolder names to be created under the Partition account" Type="System.Collections.Generic.List`1[[System.String]]" Direction="In">
              <InternalName>ContainerNamesCol</InternalName>
            </Parameter>
		  </ParameterDefs>
        </EventMethod>

        <EventMethod Name="CancelAddPartition" Description="Method aborts the creation of a new account if called" EventName="Cancel_AddPartition">
          <ParameterDefs>
            <Parameter Name="AccountId" Description="This is a ref parameter identifying the user account" Type="MetraTech.ActivityServices.Common.AccountIdentifier, MetraTech.ActivityServices.Common" InstanceIdentifier="true">
              <InternalName>AccountId</InternalName>
            </Parameter>
          </ParameterDefs>
        </EventMethod>

        <EventMethod Name="GeneratePassword" Description="Method to generate a password for the new account" EventName="GeneratePassword_AddPartition">
          <ParameterDefs>
            <Parameter Name="AccountId" Description="This is a ref parameter identifying the user account" Type="MetraTech.ActivityServices.Common.AccountIdentifier, MetraTech.ActivityServices.Common" InstanceIdentifier="true">
              <InternalName>AccountId</InternalName>
            </Parameter>

            <Parameter Name="Password" Description="Output parameter defined as the generated password" Type="System.String" Direction="Out">
              <InternalName>Password</InternalName>
            </Parameter>            
          </ParameterDefs>
        </EventMethod>

      </EventMethods>
      
      <SupportedChildTypes>
        <ChildType>MetraTech.DomainModel.BaseTypes.Account, MetraTech.DomainModel.BaseTypes.dll</ChildType>
        <ChildType>System.Collections.Generic.List`1[[MetraTech.DomainModel.BaseTypes.PriceList, MetraTech.DomainModel.BaseTypes]]</ChildType>
        <ChildType>System.Collections.ArrayList</ChildType>
        <ChildType>System.Collections.Generic.List`1[[System.String]]</ChildType>
      </SupportedChildTypes>
      
    </MASEventService>
  </MASServices>
</MASConfig>
