<ns0:SubscriptionsWorkflow LanguageID="0" PageStateGuid="00000000-0000-0000-0000-000000000000" ProductOfferingId="0" Mode="New" x:Name="SubscriptionsWorkflow" CompletedStateName="EndSubscriptions" IsApprovalEnabled="False" IsNewSubscription="False" StartWithStep="" POList="{x:Null}" SubscriptionsList="{x:Null}" SubscriptionInstance="{x:Null}" AccountIdentifier="{x:Null}" UDRCInstances="{x:Null}" DynamicUpdateCondition="{x:Null}" ChangeRequest="{x:Null}" InitialStateName="StartSubscriptions" POEffectiveDate="0001-01-01T00:00:00.0000000" SubscriptionId="0" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/workflow" xmlns:ns2="clr-namespace:MetraTech.ActivityServices.Activities;Assembly=MetraTech.ActivityServices.Activities, Version=0.0.0.0, Culture=neutral, PublicKeyToken=a0f5c26dbec45a75" xmlns:ns3="clr-namespace:MetraTech.Core.Services.ProxyActivities;Assembly=MetraTech.Core.Services.ProxyActivities, Version=0.0.0.0, Culture=neutral, PublicKeyToken=a0f5c26dbec45a75" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:ns0="clr-namespace:MetraCareWorkflowLibrary;Assembly=MetraCareWorkflowLibrary">
	<StateActivity x:Name="StartSubscriptions">
		<EventDrivenActivity x:Name="Start_Subscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity1" EventName="Start_Subscriptions" />
			<CodeActivity x:Name="TryParseSubscriptionIdActivity" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=TryParseSubscriptionId_ExecuteCode}" />
			<IfElseActivity x:Name="ifElseActivityShowExistingSubscriptions">
				<IfElseBranchActivity x:Name="ifElseBranchActivityShowExistingSubscriptions1">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="StartWithStepAddRule" />
					</IfElseBranchActivity.Condition>
					<CodeActivity x:Name="SetModeToNewSubscription2" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=SetModeToNewSubscription_ExecuteCode}" />
					<SetStateActivity x:Name="setStateActivityShowExistingSubscriptions3" TargetStateName="SelectPO" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivityShowExistingSubscriptions2">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="StartWithStepEditRule" />
					</IfElseBranchActivity.Condition>
					<CodeActivity x:Name="SetModeToEdit2" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=SetModeToEdit_ExecuteCode}" />
					<SetStateActivity x:Name="setStateActivityShowExistingSubscriptions4" TargetStateName="GetSubscriptionObject" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivityShowExistingSubscriptions3">
					<SetStateActivity x:Name="setStateActivityShowExistingSubscriptions" TargetStateName="ManageSubscriptions" />
				</IfElseBranchActivity>
			</IfElseActivity>
			<FaultHandlersActivity x:Name="faultHandlersActivity1">
				<FaultHandlerActivity x:Name="faultHandlerActivity1" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity1" Exception="{ActivityBind faultHandlerActivity1,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</StateActivity>
	<EventDrivenActivity x:Name="SetStateEventHandler">
		<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity12" EventName="SetStateEvent" />
		<ns2:MTSetPageStateActivity x:Name="mtSetPageStateActivity1" StateGuid="{ActivityBind SubscriptionsWorkflow,Path=PageStateGuid}" />
		<FaultHandlersActivity x:Name="faultHandlersActivity2">
			<FaultHandlerActivity x:Name="faultHandlerActivity2" FaultType="{x:Type p11:Exception}" xmlns:p11="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
				<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity2" Exception="{ActivityBind faultHandlerActivity2,Path=Fault}" />
			</FaultHandlerActivity>
		</FaultHandlersActivity>
	</EventDrivenActivity>
	<StateActivity x:Name="EndSubscriptions" />
	<ns2:MTPageStateActivity x:Name="ManageSubscriptions" PageName="/MetraNet/Subscriptions/Subscriptions.aspx">
		<StateInitializationActivity x:Name="Init_ManageSubscriptions">
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity1" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="Subscribe_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity4" EventName="Subscribe_ManageSubscriptions" />
			<CodeActivity x:Name="SetModeToNewSubscription" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=SetModeToNewSubscription_ExecuteCode}" />
			<SetStateActivity x:Name="setStateActivity5" TargetStateName="SelectPO" />
			<FaultHandlersActivity x:Name="faultHandlersActivity3">
				<FaultHandlerActivity x:Name="faultHandlerActivity3" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity3" Exception="{ActivityBind faultHandlerActivity3,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Edit_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity6" EventName="Edit_ManageSubscriptions" />
			<CodeActivity x:Name="SetModeToEdit" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=SetModeToEdit_ExecuteCode}" />
			<SetStateActivity x:Name="setStateActivity7" TargetStateName="GetSubscriptionObject" />
			<FaultHandlersActivity x:Name="faultHandlersActivity4">
				<FaultHandlerActivity x:Name="faultHandlerActivity4" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity4" Exception="{ActivityBind faultHandlerActivity4,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
			<CancellationHandlerActivity x:Name="cancellationHandlerActivity1" />
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Delete_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity7" EventName="Delete_ManageSubscriptions" />
			<SetStateActivity x:Name="setStateActivity8" TargetStateName="DeleteSubscription" />
			<FaultHandlersActivity x:Name="faultHandlersActivity5">
				<FaultHandlerActivity x:Name="faultHandlerActivity5" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity5" Exception="{ActivityBind faultHandlerActivity5,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Unsubscribe_MangeSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity8" EventName="Unsubscribe_ManageSubscriptions" />
			<SetStateActivity x:Name="setStateActivity9" TargetStateName="UnsubscribeSubscription" />
			<FaultHandlersActivity x:Name="faultHandlersActivity6">
				<FaultHandlerActivity x:Name="faultHandlerActivity6" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity6" Exception="{ActivityBind faultHandlerActivity6,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="GetSubscriptionsList_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity9" EventName="GetSubscriptionsList_ManageSubscriptions" />
			<ns3:SubscriptionService_GetSubscriptions_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" x:Name="subscriptionServices_GetSubscriptions_ClientActivity1" InOut_subs="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionsList}" />
			<ns2:MTEventOutputActivity x:Name="mtEventOutputActivity1" EventName="GetSubscriptionsList_ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity7">
				<FaultHandlerActivity x:Name="faultHandlerActivity7" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity7" Exception="{ActivityBind faultHandlerActivity7,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Rates_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity15" EventName="Rates_ManageSubscriptions" />
			<SetStateActivity x:Name="setStateActivity13" TargetStateName="RatesSubscription" />
			<FaultHandlersActivity x:Name="faultHandlersActivity8">
				<FaultHandlerActivity x:Name="faultHandlerActivity8" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity8" Exception="{ActivityBind faultHandlerActivity8,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Cancel_ManageSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity2" EventName="Cancel_ManageSubscriptions" />
			<SetStateActivity x:Name="setStateActivity3" TargetStateName="Dashboard" />
			<FaultHandlersActivity x:Name="faultHandlersActivity9">
				<FaultHandlerActivity x:Name="faultHandlerActivity9" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity9" Exception="{ActivityBind faultHandlerActivity9,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="Dashboard" PageName="/MetraNet/Welcome.aspx">
		<StateInitializationActivity x:Name="Init_Dashboard">
			<SetStateActivity x:Name="setStateActivity2" TargetStateName="EndSubscriptions" />
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity2" />
		</StateInitializationActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="SelectPO" PageName="/MetraNet/Subscriptions/SelectPO.aspx">
		<StateInitializationActivity x:Name="Init_SelectPO">
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity3" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="Cancel_SelectPO">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity3" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity4" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity10">
				<FaultHandlerActivity x:Name="faultHandlerActivity10" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity10" Exception="{ActivityBind faultHandlerActivity10,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="SubscribeToPO_SelectPO">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity5" EventName="SubscribeToPO_SelectPO" />
			<SetStateActivity x:Name="setStateActivity6" TargetStateName="GetSubscriptionObject" />
			<FaultHandlersActivity x:Name="faultHandlersActivity11">
				<FaultHandlerActivity x:Name="faultHandlerActivity11" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity11" Exception="{ActivityBind faultHandlerActivity11,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="GetPOList_SelectPO">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity10" EventName="GetPOList_SelectPO" />
			<ns3:SubscriptionService_GetEligiblePOsForSubscriptionByLanguage_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" In_languageID="{ActivityBind SubscriptionsWorkflow,Path=LanguageID}" InOut_productOfferings="{ActivityBind SubscriptionsWorkflow,Path=POList}" x:Name="subscriptionService_GetEligiblePOsForSubscriptionByLanguage_ClientActivity1" In_effectiveDate="{ActivityBind SubscriptionsWorkflow,Path=POEffectiveDate}" />
			<ns2:MTEventOutputActivity x:Name="mtEventOutputActivity2" EventName="GetPOList_SelectPO" />
			<FaultHandlersActivity x:Name="faultHandlersActivity12">
				<FaultHandlerActivity x:Name="faultHandlerActivity12" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity12" Exception="{ActivityBind faultHandlerActivity12,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="UnsubscribeSubscription" PageName="/MetraNet/Subscriptions/Unsubscribe.aspx">
		<StateInitializationActivity x:Name="Init_UnsubscribeSubscription">
			<ns3:SubscriptionService_GetSubscriptionDetail_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" In_subscriptionId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionId}" Out_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" x:Name="subscriptionService_GetSubscriptionDetail_ClientActivity3" />
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity4" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="Cancel_UnsubscribeSubscription">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity14" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity12" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity13">
				<FaultHandlerActivity x:Name="faultHandlerActivity13" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity13" Exception="{ActivityBind faultHandlerActivity13,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Unsubscribe_UnsubscribeSubscription">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity19" EventName="Unsubscribe_UnsubscribeSubscription" />
			<ns3:SubscriptionService_UpdateSubscription_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" x:Name="subscriptionService_UpdateSubscription_ClientActivity2" In_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" />
			<SetStateActivity x:Name="setStateActivity17" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity14">
				<FaultHandlerActivity x:Name="faultHandlerActivity14" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity14" Exception="{ActivityBind faultHandlerActivity14,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="DeleteSubscription" PageName="/MetraNet/Subscriptions/DeleteSubscription.aspx">
		<StateInitializationActivity x:Name="Init_DeleteSubscription">
			<ns3:SubscriptionService_GetSubscriptionDetail_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" In_subscriptionId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionId}" Out_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" x:Name="subscriptionService_GetSubscriptionDetail_ClientActivity2" />
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity5" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="Cancel_DeleteSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity11" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity10" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity15">
				<FaultHandlerActivity x:Name="faultHandlerActivity15" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity15" Exception="{ActivityBind faultHandlerActivity15,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Delete_DeleteSubscription">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity17" EventName="Delete_DeleteSubscription" />
			<ns3:SubscriptionService_DeleteSubscription_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" x:Name="subscriptionService_DeleteSubscription_ClientActivity1" In_subscriptionId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionId}" />
			<SetStateActivity x:Name="setStateActivity15" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity16">
				<FaultHandlerActivity x:Name="faultHandlerActivity16" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity16" Exception="{ActivityBind faultHandlerActivity16,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="RatesSubscription" PageName="/MetraNet/Subscriptions/RatesSubscription.aspx">
		<StateInitializationActivity x:Name="Init_RatesSubscription">
			<ns3:SubscriptionService_GetSubscriptionDetail_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" In_subscriptionId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionId}" Out_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" x:Name="subscriptionService_GetSubscriptionDetail_ClientActivity4" />
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity6" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="Cancel_RatesSubscription">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity16" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity14" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity17">
				<FaultHandlerActivity x:Name="faultHandlerActivity17" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity17" Exception="{ActivityBind faultHandlerActivity17,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="SetSubscriptionDate" PageName="/MetraNet/Subscriptions/SetSubscriptionDate.aspx">
		<StateInitializationActivity x:Name="Init_SetSubscriptionDate">
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity7" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="OK_SetSubscriptionDate">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity20" EventName="OK_SetSubscriptionDate" />
			<CodeActivity x:Name="ValidateSubscription" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=ValidateSubscription_ExecuteCode}" />
			<CodeActivity x:Name="InitChangeRequest" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=ApprovalSetupAS_ExecuteCode}" />
			<ns3:SubscriptionService_GetUDRCInstancesForPO_ClientActivity Out_udrcInstances="{ActivityBind SubscriptionsWorkflow,Path=UDRCInstances}" x:Name="subscriptionService_GetUDRCInstancesForPO_ClientActivity1" In_productOfferingId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance.ProductOfferingId}" />
			<IfElseActivity x:Name="ifElseActivity1">
				<IfElseBranchActivity x:Name="ifElseBranchActivity1">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="HasUDRC" />
					</IfElseBranchActivity.Condition>
					<SetStateActivity x:Name="setStateActivity18" TargetStateName="SetUDRCValues" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivity2">
					<IfElseActivity x:Name="ifElseActivity2">
						<IfElseBranchActivity x:Name="ifElseBranchActivity7">
							<IfElseBranchActivity.Condition>
								<RuleConditionReference ConditionName="IsApprovalsOn" />
							</IfElseBranchActivity.Condition>
							<ns3:ApprovalManagementService_SubmitChange_ClientActivity Out_changeId="0" x:Name="approvalManagementService_SubmitChange_ClientActivity2" In_change="{ActivityBind SubscriptionsWorkflow,Path=ChangeRequest}" />
						</IfElseBranchActivity>
						<IfElseBranchActivity x:Name="ifElseBranchActivity8">
							<SetStateActivity x:Name="setStateActivity19" TargetStateName="SaveSubscription" />
						</IfElseBranchActivity>
					</IfElseActivity>
				</IfElseBranchActivity>
			</IfElseActivity>
			<FaultHandlersActivity x:Name="faultHandlersActivity18">
				<FaultHandlerActivity x:Name="faultHandlerActivity18" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity18" Exception="{ActivityBind faultHandlerActivity18,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Cancel_SetSubscriptionDate">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity21" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity20" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity19">
				<FaultHandlerActivity x:Name="faultHandlerActivity19" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity19" Exception="{ActivityBind faultHandlerActivity19,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="SetUDRCValues" PageName="/MetraNet/Subscriptions/SetUDRCValues.aspx">
		<StateInitializationActivity x:Name="Init_SetUDRCValues">
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity8" />
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="OK_SetUDRCValues">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity22" EventName="OK_SetUDRCValues" />
			<CodeActivity x:Name="InitChangeRequestWithUDRC" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=ApprovalSetupAS_ExecuteCode}" />
			<IfElseActivity x:Name="ifElseActivityApprovalsWithUdrc">
				<IfElseBranchActivity x:Name="ifElseBranchActivity71">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="IsApprovalsOn" />
					</IfElseBranchActivity.Condition>
					<ns3:ApprovalManagementService_SubmitChange_ClientActivity Out_changeId="0" x:Name="approvalManagementService_SubmitChange_ClientActivity3" In_change="{ActivityBind SubscriptionsWorkflow,Path=ChangeRequest}" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivity81">
					<SetStateActivity x:Name="setStateActivity21" TargetStateName="SaveSubscription" />
				</IfElseBranchActivity>
			</IfElseActivity>
			<FaultHandlersActivity x:Name="faultHandlersActivity20">
				<FaultHandlerActivity x:Name="faultHandlerActivity20" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity20" Exception="{ActivityBind faultHandlerActivity20,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Cancel_SetUDRCValues">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity23" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity22" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity21">
				<FaultHandlerActivity x:Name="faultHandlerActivity21" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity21" Exception="{ActivityBind faultHandlerActivity21,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="Back_SetUDRCValues">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity24" EventName="Back_SetUDRCValues" />
			<SetStateActivity x:Name="setStateActivity24" TargetStateName="SetSubscriptionDate" />
			<FaultHandlersActivity x:Name="faultHandlersActivity22">
				<FaultHandlerActivity x:Name="faultHandlerActivity22" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity22" Exception="{ActivityBind faultHandlerActivity22,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<ns2:MTPageStateActivity x:Name="SaveSubscription" PageName="/MetraNet/Subscriptions/SaveSubscriptions.aspx">
		<StateInitializationActivity x:Name="Init_SaveSubscriptions">
			<IfElseActivity x:Name="IsNewSubscription2">
				<IfElseBranchActivity x:Name="ifElseBranchActivity5">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="IsNewSubscription" />
					</IfElseBranchActivity.Condition>
					<ns3:SubscriptionService_AddSubscription_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" x:Name="subscriptionService_AddSubscription_ClientActivity1" InOut_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivity6">
					<ns3:SubscriptionService_UpdateSubscription_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" x:Name="subscriptionService_UpdateSubscription_ClientActivity1" In_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" />
				</IfElseBranchActivity>
			</IfElseActivity>
			<CodeActivity x:Name="SetIsNewSubscription" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=SetIsNewSubscription_ExecuteCode}" />
			<ns2:MTStateInitOutputActivity x:Name="mtStateInitOutputActivity9" />
			<FaultHandlersActivity x:Name="faultHandlersActivity25">
				<FaultHandlerActivity x:Name="faultHandlerActivity25" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity25" Exception="{ActivityBind faultHandlerActivity25,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</StateInitializationActivity>
		<EventDrivenActivity x:Name="BackToMangeSubscriptions">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity18" EventName="Cancel_Subscriptions" />
			<SetStateActivity x:Name="setStateActivity16" TargetStateName="ManageSubscriptions" />
			<FaultHandlersActivity x:Name="faultHandlersActivity23">
				<FaultHandlerActivity x:Name="faultHandlerActivity23" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity23" Exception="{ActivityBind faultHandlerActivity23,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
		<EventDrivenActivity x:Name="BackToDashboard">
			<ns2:MTHandleEventActivity x:Name="mtHandleEventActivity13" EventName="Cancel_ManageSubscriptions" />
			<SetStateActivity x:Name="setStateActivity11" TargetStateName="Dashboard" />
			<FaultHandlersActivity x:Name="faultHandlersActivity24">
				<FaultHandlerActivity x:Name="faultHandlerActivity24" FaultType="{x:Type p13:Exception}" xmlns:p13="clr-namespace:System;Assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
					<ns2:MTFaultHandlingActivity x:Name="mtFaultHandlingActivity24" Exception="{ActivityBind faultHandlerActivity24,Path=Fault}" />
				</FaultHandlerActivity>
			</FaultHandlersActivity>
		</EventDrivenActivity>
	</ns2:MTPageStateActivity>
	<StateActivity x:Name="GetSubscriptionObject">
		<StateInitializationActivity x:Name="Init_GetSubscriptionObject">
			<IfElseActivity x:Name="IsNewSubscription1">
				<IfElseBranchActivity x:Name="ifElseBranchActivity3">
					<IfElseBranchActivity.Condition>
						<RuleConditionReference ConditionName="IsNewSubscription" />
					</IfElseBranchActivity.Condition>
					<CodeActivity x:Name="CreateNewSubscriptionFromPOID" ExecuteCode="{ActivityBind SubscriptionsWorkflow,Path=CreateNewSubscriptionFromPOID_ExecuteCode}" />
				</IfElseBranchActivity>
				<IfElseBranchActivity x:Name="ifElseBranchActivity4">
					<ns3:SubscriptionService_GetSubscriptionDetail_ClientActivity In_acct="{ActivityBind SubscriptionsWorkflow,Path=AccountIdentifier}" In_subscriptionId="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionId}" Out_sub="{ActivityBind SubscriptionsWorkflow,Path=SubscriptionInstance}" x:Name="subscriptionService_GetSubscriptionDetail_ClientActivity1" />
				</IfElseBranchActivity>
			</IfElseActivity>
			<SetStateActivity x:Name="setStateActivity23" TargetStateName="SetSubscriptionDate" />
		</StateInitializationActivity>
	</StateActivity>
</ns0:SubscriptionsWorkflow>