<xmlconfig>
	<version ptype="INTEGER">1</version>
	<name>SONGDOWNLOADS</name>
	<Description>Sample Songdownloads(aggregate usage) Configuration File</Description>

	<!-- Materialized View Interface implementation id -->
	<progid>MetraTech.DataAccess.MaterializedViews.QueryProvider</progid>

	<!-- DEFERRED, TRANSACTIONAL, OFF -->
	<UpdateMode>OFF</UpdateMode>

	<!-- Relative path to the queries file -->
	<QueryPath>Queries\MaterializedViews\Samples</QueryPath>

	<!-- Query used to create the materialized view -->
	<create_query_tag>__Create_SONGDOWNLOADS__</create_query_tag>

	<full_query_tag>__FULL_SONGDOWNLOADS__</full_query_tag>

	<!-- Query used to create the summary table for materialized view queries-->
	<init_query_tag>__INIT_SONGDOWNLOADS__</init_query_tag>

	<Event>
		<Description>Update MV when usage and product view tables change</Description>

		<!-- A set of base tables that the queries depend on -->
		<base_tables>
			<table_name>t_acc_usage</table_name>
			<table_name>t_pv_songdownloads</table_name>
		</base_tables>

		<!-- Set of queries executed for insert operation -->
		<Operation Name ="insert">
			<update_query_tag>__OpInsert_Update_SONGDOWNLOADS__</update_query_tag>
		</Operation>

		<!-- Set of queries to execute for delete operation -->
		<Operation Name ="delete">
			<update_query_tag>__OpDelete_Update_SONGDOWNLOADS__</update_query_tag>
		</Operation>
	</Event>

	<Event>
		<Description>Update MV when usage tables change</Description>

		<!-- A set of base tables that the queries depend on -->
		<base_tables>
			<table_name>t_acc_usage</table_name>
		</base_tables>

		<!-- Set of queries executed for insert operation -->
		<Operation Name ="insert">
			<update_query_tag>__OpInsert1_Update_SONGDOWNLOADS__</update_query_tag>
		</Operation>

		<!-- Set of queries to execute for delete operation -->
		<Operation Name ="delete">
			<update_query_tag>__OpDelete1_Update_SONGDOWNLOADS__</update_query_tag>
		</Operation>
	</Event>

</xmlconfig>
