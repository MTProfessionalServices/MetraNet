<html>
<head>
  <link href='../localized/en-us/styles/styles.css' rel="stylesheet" type="text/css" localized="true" />
  <link href="../localized/en-us/styles/tab_styles.css" rel="stylesheet" type="text/css" />
  <title>
    <MDMLABEL Name="TEXT_KEYTERM_RECURRING_CHARGE"></MDMLABEL>
  </title>  
  <script language="javascript" src="/mcm/default/lib/utilForm.js"></script>

  <script language='javascript'>
    function disableDIV(sDivName, bDisable) {
      var section = document.all.item(sDivName).getElementsByTagName("input");
      for (i = 0; i < section.length; i++) {
        section.item(i).disabled = bDisable;
      }

      var section = document.all.item(sDivName).getElementsByTagName("select");
      for (i = 0; i < section.length; i++) {
        section.item(i).disabled = bDisable;
      }

      var section = document.all.item(sDivName).getElementsByTagName("td");
      sColor = (bDisable) ? 'gray' : 'black';
      for (i = 0; i < section.length; i++) {
        section.item(i).style.color = sColor;
      }
    }
  </script>  
                                 
</head>
<body onload="SizeWindow();">
<form name='mdm'>
<MDMTAB />
 <!-- The title of the dialog-->
	<table width="100%" >
	  <tr>
	    <td class='CaptionBar' nowrap>
	      <MDMLABEL Name="TEXT_KEYTERM_RECURRING_CHARGE">Recurring Charge</MDMLABEL>
	    </td>
	  </tr>
	</table>
  <table width="100%">
    <tr>
      <td></td>
      <td></td>
      <td style="vertical-align: top;">
        <table width="100%">
          <tr>
            <td class="captionEWRequired" width="130px">
              <mdmlabel name="TEXT_FIELD_NAME">Name</mdmlabel>:&nbsp;&nbsp;
            </td>
            <td>
              <input readonly name="name" class="fieldNonEditable" size="50" type="text" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </td>
          </tr>
          <tr>
            <td class="captionEWRequired">
              <mdmlabel name="TEXT_FIELD_DISPLAY_NAME">Display Name</mdmlabel>:&nbsp;&nbsp;
            </td>
            <td>
              <input name="DISPLAYNAMES" multilanguage="true" class="field" size="50" type="text" />
            </td>
          </tr>
          <tr>
            <td class="captionEWRequired" style='vertical-align: top;'>
              <mdmlabel name="TEXT_FIELD_DESCRIPTION">Description</mdmlabel>:&nbsp;&nbsp;
            </td>
            <td>
              <input name="DISPLAYDESCRIPTIONS" multilanguage="true" class="field" type="text" size="50" />
            </td>
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
          </tr>
        </table>
        <div id='Proration' name='Proration' style='display: block;'>
          <table width="100%">
            <tr>
              <td class="captionEWRequired">
                <mdmlabel name="TEXT_CHARGE_IN">Charge In</mdmlabel>:&nbsp;&nbsp;
              </td>
              <td>
                <select class='clsInputBox' name='ChargeInAdvance'></select>
              </td>
            </tr>
            <tr>
              <td class="captionEWRequired" width="130px">
                <mdmlabel name="TEXT_PRORATION">Proration</mdmlabel>:&nbsp;&nbsp;
              </td>
              <td class='clsStandardText'>
                <input name="ProrateOnActivation" type="checkbox" onclick="updateProrationBasedOnField();" />
                <mdmlabel name="TEXT_PRORATE_ACTIVATION">Prorate On Activation</mdmlabel>
              </td>
            </tr>
            <tr>
              <td></td>
              <td class='clsStandardText'>
                <input name="ProrateOnDeactivation" type="checkbox" onclick="updateProrationBasedOnField();" />
                <mdmlabel name="TEXT_PRORATE_UNSUBSCRIPTION">Prorate On Unsubscription Date</mdmlabel>
              </td>
            </tr>
            <tr>
              <td class="captionEW">&nbsp;</td>
              <td>
                <div id='ProrateOn' name='ProrateOn' style='display: block;'>
                  <mdmlabel name="TEXT_PRORATE_BASEDON">Prorate</mdmlabel>&nbsp;&nbsp;
                  <select name="FixedProrationLength" size="1" class='clsInputBox'></select>&nbsp;<mdmlabel name="TEXT_DAYS_IN_PERIOD">days in period.</mdmlabel>
                </div>
              </td>
            </tr>
          </table>
        </div>
#MDMIF IsUDRC
        <table width="100%">
          <tr><td>&nbsp;</td></tr>
          <tr>
            <td class="captionEWRequired">
              <mdmlabel name="TEXT_UDRC"></mdmlabel>:&nbsp;
            </td>
          </tr>
          <tr>
            <td class="captionEWRequired">
              <mdmlabel name="TEXT_UNIT_NAME"></mdmlabel>:&nbsp;
            </td>
            <td>
              <input name="UnitName" class="field" size="50" type="text" />
            </td>
          </tr>
          <tr>
            <td class="captionEWRequired">
              <mdmlabel name="TEXT_UNIT_DISPLAY_NAME"></mdmlabel>:&nbsp;&nbsp;
            </td>
            <td>
              <input name="UNITDISPLAYNAMES" multilanguage="true" class="field" size="50" type="text" />
            </td>
          </tr>
          <tr>
            <td class="captionEWRequired">
              <mdmlabel name="TEXT_RATING_TYPE"></mdmlabel>:&nbsp;
            </td>
            <td>
              <select class='clsInputBox' name='RatingType'></select>
            </td>
          </tr>
          <tr>
            <td class="captionEW"></td>
            <td>
              <input name="IntegerUnitValue" type="checkbox" />
              <mdmlabel name="IntegerUnitValue" type="caption"></mdmlabel>
            </td>
          </tr>
          <tr>
            <td class="captionEW"><mdmlabel name="MinUnitValue" type="caption"></mdmlabel>:&nbsp;&nbsp;</td>
            <td nowrap>
              <input name="MinUnitValue" class="field" size="20" type="text" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <mdmlabel name="MaxUnitValue" type="caption"></mdmlabel>:&nbsp;&nbsp;
              <input name="MaxUnitValue" class="field" size="20" type="text" />
            </td>
          </tr>
        </table>
    </tr>
    <tr>
      <td class="captionEW" style="vertical-align: bottom;">
        <mdmlabel name="UDRCUnitValueEnumeration" type="caption"></mdmlabel>:&nbsp;&nbsp;
      </td>
      <td>
        &nbsp;&nbsp;[TEXT_UDRC_UNIT_VALUE_ENUMERATION_SEPARATOR_HELP]<br><input name="UDRCUnitValueEnumeration" class="field" size="50" type="text" />
      </td>
    </tr>
  </table>
#MDMENDIF        
  <div id='ChargePerParticipantDiv' name='ChargePerParticipantDiv' style='display: block;'>
    <table width="100%">
      <tr>
        <td class="captionEWRequired" width="130px">
          <mdmlabel name="TEXT_GROUP_CHARGES">Generate Group Charges</mdmlabel>:&nbsp;&nbsp;
        </td>
        <td>
          <input name="ChargePerParticipant" type="radio" value="FALSE">
          <mdmlabel name="TEXT_PER_SUBSCRIPTION">One charge per subscription</mdmlabel>
        </td>
      </tr>
      <tr>
        <td></td>
        <td>
          <input name="ChargePerParticipant" type="Radio" value="TRUE" />
          <mdmlabel name="TEXT_PER_PARTICIPANT">One charge per participant</mdmlabel>
        </td>
      </tr>
    </table>
  </div>
  <table width="100%">
    <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr>
      <td colspan='2'>[BILLING_CYCLE_HTML_SUB_TEMPLATE]</td>
    </tr>
  </table>
	    </td>			
  <td style="vertical-align:top">
    <!-- Extended Properties -->
    <fieldset style="padding: 20px 10px 10px 10px;">
      <legend style="font-weight: normal;"><mdmlabel name="TEXT_EXTENDED_PROPERTIES">Extended Properties</mdmlabel></legend>
      <mdmgrid name="ExtendedProperties"><mdmlabel name="TEXT_EXTENDED_PROPERTIES">Extended Properties</mdmlabel></mdmgrid>
      <!--
      <br>
      <center>
      <img src='..\localized\us\images\Icons\help_small.gif' alt='' border='0' align='absmiddle'>&nbsp;<a href="/MetraNetHelp/en-US/addingextendedproperties.hlp.htm" target="_blank" style="font-size: 9px;">What are extended properties?</a>
      </center>
      -->
    </fieldset>
  </td>   
	 </tr>
</table> 

  <script type="text/javascript">
    function handleCycleConfigurationDataChange() {
      //window.alert("handleCycleConfigurationDataChange");
      updateProrationBasedOnField();
    }
  
    function isGroupSubscriptionEditable() {
      return (document.mdm.ChargePerParticipant.disabled == false)
    }

    function updateProrationBasedOnField() {
      disableDIV("ChargePerParticipantDiv", !isGroupSubscriptionEditable());
      document.all.item("ChargePerParticipantDiv").getElementsByTagName("td").item(0).style.color = ''; //Do not gray the label...

      disableDIV("Proration", true);
      var section = document.all.item("Proration").getElementsByTagName("td");
      for (i = 0; i < section.length; i++) {
        section.item(i).style.color = ''; //Do not gray the label...
      }

      disableDIV('ProrateOn', true);
    }

    updateProrationBasedOnField();
  </script> 

  <div style="text-align: center;" >
    <button name="OK"  class="clsOKButton" onclick="mdm_RefreshDialog(this); return false;">
      <MDMLABEL Name='TEXT_OK'>OK</MDMLABEL>
    </button>&nbsp;&nbsp;&nbsp;
    <button name="CANCEL" class="clsOKButton" onclick="mdm_RefreshDialog(this); return false;">
      <MDMLABEL name='TEXT_CANCEL'>Cancel</MDMLABEL>
    </button>
  </div>
</form>
</body>
</html>