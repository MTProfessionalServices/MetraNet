<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE migration SYSTEM "http://localhost/validation/migration_1_0.dtd">

<migration name="view_hierarchy" xsi:schemalocation="http://localhost/validation/migration_1_0.xsd" xmlns:xsi="http://www.w3.org/1999/XMLSchema/instance">
	<version major="1" minor="1">
		<translation_mechanism>XSL</translation_mechanism>
		<action>
			<![CDATA[
				<xsl:stylesheet xmlns:xsl="http://www.w3.org/TR/WD-xsl" >

				<xsl:template><xsl:copy>
				<xsl:apply-templates select="@* | * | comment() | pi() | text()"/>
				</xsl:copy></xsl:template> 


				<!-- Do nothing if there is a sysconfigdata section -->
				<xsl:template match="xmlconfig">
					<xmlconfig xmlns:xsi="http://www.w3.org/1999/XMLSchema/instance" 
						xsi:schemaLocation="http://localhost/validation/service_1_1.xsd">
						<xsl:apply-templates select="* | comment() | pi() | text()"/>
					</xmlconfig>
				</xsl:template>

				<!-- get rid of effective date -->
				<xsl:template match="xmlconfig/mtsysconfigdata"/>

				<!-- get rid of other extraneous stuff -->
				<xsl:template match="xmlconfig/mtconfigdata/filename"/>
				<xsl:template match="xmlconfig/mtconfigdata/major"/>
				<xsl:template match="xmlconfig/mtconfigdata/minor">
					<version>1.0</version>
				</xsl:template>

				<xsl:template match="xmlconfig/mtconfigdata/view_hierarchy/view/nm_view_name"/>
				<xsl:template match="xmlconfig/mtconfigdata/view_hierarchy/view/id_desc"/>

				<xsl:template match="xmlconfig/mtconfigdata">
					<xsl:apply-templates select="@* | * | comment() | pi() | text()"/>
				</xsl:template>

				</xsl:stylesheet>

				
	

			]]>
		</action>
	</version>

</migration>