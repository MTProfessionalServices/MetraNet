<?xml version="1.0" encoding="UTF-8"?>

<priceable_item>
  <name>Flat Rate Non Recurring Charge</name>
  <description>One time service charge with a flat rate.</description>
  <item_type>non-recurring</item_type>
  <relationships>
    <parent></parent>
  </relationships>
  <parameter_table>metratech.com/NonRecurringCharge</parameter_table>
  <counters></counters>
  <pipeline>
    <service_definition>metratech.com/NonRecurringCharge</service_definition>
    <product_view>metratech.com/NonRecurringCharge</product_view>
  </pipeline>
    <adjustment_type>
    <name>FlatNonRecurringChargeFlatAdjustment</name>
    <description>Non Recurring Charge Flat Adjustment</description>
    <displayname>Non Recurring Charge Flat Adjustment</displayname>
    <CalculationEngine>1</CalculationEngine>
    <supportsBulk>Y</supportsBulk>
    <formula>
	    <![CDATA[
        Create Procedure DoAdjustmentCalc 
	        -- inputs
	        @NRCAdjustmentAmount DECIMAL,
	        -- outputs
	        @TotalAdjustmentAmount DECIMAL OUTPUT
	        as
        set @TotalAdjustmentAmount = @NRCAdjustmentAmount
	    ]]>
    </formula>
    <applicabilityrules></applicabilityrules>
    <Kind>3</Kind>
    <required_inputs>
      <input_val
        name="NRCAdjustmentAmount"
        type="DECIMAL"
        displayname="Amount to adjust non recurring charge"
      />
    </required_inputs>
    <outputs>
       <output_val
        name="TotalAdjustmentAmount"
        type="DECIMAL"
        displayname="Non Recurring Charge Total Adjustment Amount"
      />
    </outputs>
    
   </adjustment_type>
    <adjustment_type>
    <name>FlatNonRecurringChargePercentAdjustment</name>
    <description>Non Recurring Charge Percent Adjustment</description>
    <displayname>Non Recurring Charge Percent Adjustment</displayname>
    <CalculationEngine>1</CalculationEngine>
    <supportsBulk>Y</supportsBulk>
    <formula>
	    <![CDATA[
        Create Procedure DoAdjustmentCalc 
	        -- inputs
	        @NRCAdjustmentPercent DECIMAL,
	        @Amount DECIMAL,
	        -- outputs
	        @TotalAdjustmentAmount DECIMAL OUTPUT
	        as
	        set @TotalAdjustmentAmount = round(@Amount*@NRCAdjustmentPercent*0.01, 2)
	    ]]>
    </formula>
    <applicabilityrules></applicabilityrules>
    <Kind>3</Kind>
    <required_inputs>
      <input_val
        name="NRCAdjustmentPercent"
        type="DECIMAL"
        displayname="Percent of Amount to adjust non recurring charge"
      />
    </required_inputs>
    <outputs>
       <output_val
        name="TotalAdjustmentAmount"
        type="DECIMAL"
        displayname="Non Recurring Charge Total Adjustment Amount"
      />
    </outputs>
    
   </adjustment_type>   
</priceable_item>