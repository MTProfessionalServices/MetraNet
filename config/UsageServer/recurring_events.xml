<xmlconfig>
  <version ptype="INTEGER">2</version>

  <ScheduledAdapters>
  
    <Adapter>
      <Name>CreditCardDunningAdapter</Name>
      <DisplayName>Failed Credit Card Payment Dunning</DisplayName>
      <ClassID>MetraTech.UsageServer.Adapters.GenericWorkflowAdapter, MetraTech.UsageServer.Adapters</ClassID>
      <ConfigFile>CreditCardDunningAdapter.xml</ConfigFile>
      <ActivationDate>10/1/2002 00:00:00</ActivationDate>
      <Description><![CDATA[
       This adapter resubmits failed credit card payments on a periodic basis.  After a configured number of
       retries, if the payment has still failed, the account subscription is disabled.
       ]]></Description>
      <RecurrencePattern>
        <SystemCycle>Daily</SystemCycle>
      </RecurrencePattern>
    </Adapter>

    <Adapter>
      <Name>ACHInquiryAdapter</Name>
      <DisplayName>ACH Inquiry Adapter</DisplayName>
      <ClassID>MetraTech.UsageServer.Adapters.GenericWorkflowAdapter, MetraTech.UsageServer.Adapters</ClassID>
      <ConfigFile>ACHInquiryAdapter.xml</ConfigFile>
      <ActivationDate>10/1/2002 00:00:00</ActivationDate>
      <Description><![CDATA[
       This adapter checks to see if a given ach transaction has cleared.
       ]]></Description>
      <RecurrencePattern>
        <SystemCycle>Daily</SystemCycle>
      </RecurrencePattern>
    </Adapter>

	  <Adapter>
		  <Name>ExecutePaymentsAdapter</Name>
		  <DisplayName>Submit Scheduled Payments to Payment Processors</DisplayName>
		  <ClassID>MetraTech.UsageServer.Adapters.GenericWorkflowAdapter,MetraTech.UsageServer.Adapters</ClassID>
		  <ConfigFile>ExecutePaymentsAdapter.xml</ConfigFile>
      <ActivationDate>10/1/2002 00:00:00</ActivationDate>
      <Description>
			  <![CDATA[
      Adapter to send scheduled payment transactions to payment processors.   
      ]]>
		  </Description>
		  <RecurrencePattern>
			  <SystemCycle>Daily</SystemCycle>
		  </RecurrencePattern>
	  </Adapter>

  </ScheduledAdapters>

  <EndOfPeriodAdapters>

    <Adapter>
      <Name>PaymentAuthorizationAdapter</Name>
      <DisplayName>Generate and Pre-Authorize Payment Transactions</DisplayName>
      <ClassID>MetraTech.UsageServer.Adapters.PaymentAuthorizationAdapter,MetraTech.UsageServer.Adapters</ClassID>
      <ConfigFile>PaymentAuthorizationAdapter.xml</ConfigFile>
      <Description>
      <![CDATA[
		This adapter generates the list of payment transactions for the bill group.  It tries to pre-authorize
		the transactions for those method types that support it (e.g. credit cards).
      ]]>
      </Description>
      <RecurrencePattern>
        <UsageCycleType>All</UsageCycleType>
      </RecurrencePattern>
      <Dependencies>
        <DependsOn>Invoices</DependsOn>
      </Dependencies>
    </Adapter>

    <Checkpoint>
      <Name>PaymentCheckpoint</Name>
      <DisplayName>Payment Processing Checkpoint</DisplayName>
      <RecurrencePattern>
         <UsageCycleType>All</UsageCycleType>
      </RecurrencePattern>
      <Dependencies>
        <DependsOn>PaymentAuthorizationAdapter</DependsOn>
      </Dependencies>
    </Checkpoint>

	  <Adapter>
		  <Name>PaymentSubmissionAdapter</Name>
		  <DisplayName>Submit Payments to Payment Processors</DisplayName>
		  <ClassID>MetraTech.UsageServer.Adapters.GenericWorkflowAdapter,MetraTech.UsageServer.Adapters</ClassID>
		  <ConfigFile>PaymentSubmissionAdapter.xml</ConfigFile>
		  <Description>
			  <![CDATA[
      Adapter to send payment transactions to payment processors.   
      ]]>
		  </Description>
		  <RecurrencePattern>
			  <UsageCycleType>All</UsageCycleType>
		  </RecurrencePattern>
		  <Dependencies>
			  <DependsOn>PaymentCheckpoint</DependsOn>
		  </Dependencies>
	  </Adapter>
    <!-- Adapter>
      <Name>PaymentSubmissionAdapter</Name>
      <DisplayName>Capture Payments</DisplayName>
      <ClassID>MetraTech.UsageServer.Adapters.PaymentSubmissionAdapter,MetraTech.UsageServer.Adapters</ClassID>
      <ConfigFile>PaymentSubmissionAdapter.xml</ConfigFile>
      <Description>
      <![CDATA[
      Since we do not support reversals after data has been sent to Verisign,
      the job of this adapter is to make sure that reversals for scheduled
      hits to Verisign are reversed.
      ]]>
      </Description>
      <RecurrencePattern>
        <UsageCycleType>All</UsageCycleType>
      </RecurrencePattern>
      <Dependencies>
        <DependsOn>PaymentCheckpoint</DependsOn>
      </Dependencies>
    </Adapter -->

  </EndOfPeriodAdapters>

</xmlconfig>
