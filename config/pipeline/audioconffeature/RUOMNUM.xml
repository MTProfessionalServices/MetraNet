<xmlconfig>
  <mtconfigdata>

 <version ptype="INTEGER">1</version>
 <!-- First processor configuration -->
 <processor>
  <name>RUOMNUM</name>
  <progid>MetraPipeline.MTSQLInterpreter.1</progid>
  <description>Sets the Rate Unit of Measure to the number of seconds expressed by TimeBasedRateUOM</description>

	<!--
  <autotest>
    <file>calcduration.xml</file>
  </autotest>
  -->

  <!-- Processor specific configuration data -->
  <configdata>
 
  <Program><![CDATA[
		
		CREATE PROCEDURE uomnum 
      @TimeBasedRateUOM ENUM -- $ICE:('metratech.com/audioconffeature','FeatureUOM')$
      @RUOMNUM INTEGER OUTPUT
			AS
			DECLARE @strUOM VARCHAR;
			
			SET @strUOM = CAST (@TimeBasedRateUOM AS VARCHAR);
			
			SET @RUOMNUM = 
				CASE 
					WHEN @strUOM = 'Seconds' THEN 1
					WHEN @strUOM = 'Minutes' THEN 60
					WHEN @strUOM = 'Hours' 	 THEN 3600
					WHEN @strUOM = 'Days' 	 THEN 86400
					ELSE 0 -- Error
				END
	 
  ]]></Program> 
    
  </configdata>

 </processor>

  </mtconfigdata>

</xmlconfig>

