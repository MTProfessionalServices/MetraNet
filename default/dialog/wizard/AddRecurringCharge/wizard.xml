<!-- Wizard.xml                                                         -->
<!-- Contains information to drive the Priceable Item wizard for MPM    -->

<MTWizard>
  <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE] [TEXT_WIZARD]</title>
  <template>wizard.html</template>
  <name>AddRecurring</name>    <!-- One word, used to store/reference session data -->
  
  <buttons>
    <back>
          <![CDATA[
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td><button Name="butBack" Id="butBack" [BACK_BUTTON_STATE] onClick="javascript:WizardBack();" class="clsWizardWideButton">[TEXT_BACK]</button></td>
        </tr>
      </table>
    ]]></back>
    
    <next><![CDATA[
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td><button Name="butNext"  onClick="javascript:WizardNext();" class="clsWizardWideButton">[TEXT_NEXT]</button></td>
        </tr>
      </table>    
    ]]></next>
    
    <finish>
          <![CDATA[
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td><button Name="butFinish" onClick="javascript:WizardFinish();" class="clsWizardWideButton">[TEXT_FINISH]</button></td>
        </tr>
      </table>    
    ]]></finish>
    
    <cancel>
          <![CDATA[
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td><button Name="butCancel" onClick="javascript:WizardCancel();" class="clsWizardWideButton">[TEXT_CANCEL]</button></td>
        </tr>
      </table>    
    ]]></cancel>
  </buttons>
  
  <!-- Template for the left_frame -->
  <left_frame_html><![CDATA[
    <td valign="top" width="150" height="100%">
      <table class="clsWizardTableHeader" cellspacing="1" cellpadding="0" height="100%" width="100%">
        <tr>
          <td valign="top">
            <table class="clsWizardBody" height="100%" width="100%">
              <tr>
                <td valign="top">
                  [LEFT_FRAME_HTML]
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
   ]]></left_frame_html>
   
   <!-- Template for the right frame -->
  <right_frame_html><![CDATA[
      <form name="WizardForm" action="[FORM_ACTION]" method="post">
        <input type="hidden" name="direction" value="forward">
        <table cellspacing="1" cellpadding="0" width="100%" height="100%">
          <tr>
            <td>
              <table class="clsWizardBody" width="100%" height="100%">
                <tr>
                  <td align="center" class="clsWizardTableHeader" colspan="2">[PAGE_TITLE]</td>
                </tr>
                <tr>
                  <td align="center" colspan="2">[ERROR_MESSAGE]</td>
                </tr>

                <tr height="100%">
                  <td width="100%" valign="middle">
                    [RIGHT_FRAME_HTML]
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </form>
    ]]>
	</right_frame_html>      
  
  <button_frame_html><![CDATA[
        <td colspan="2">
          <table width="100%">
            <tr>
              <td colspan="2"><hr size="2"color="black" width="100%"></td>
            </tr>
            <tr>
              <td align="right">
                <table cellspacing="0" cellpadding="0">
                  <tr>
                    <td>
                      [BACK_BUTTON]
                    </td>
                    <td>
                      [NEXT_BUTTON]
                    </td>
                    <td width="30"></td>
                    <td>
                      [CANCEL_BUTTON]
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>  
  
  ]]></button_frame_html>
  
  <!-- Pages are referenced by ID, when choosing the next page, use the ID of 
       the page -->
  <page id="start">
    <next_page>NewType</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <next_page_condition>
    <property>SELECTTEMPLATE</property>
      <operation><![CDATA[<>]]></operation>
      <value>-1</value>
      <next_page>summary</next_page>
    </next_page_condition>
                                     
    <title>[TEXT_ADD_RECURRING]</title>                                     
     <left_frame_eval>WriteRecurringText("[WIZARD_NAME]")</left_frame_eval>              
  <!-- Contains the contents of the left frame of the wizard. If
       omitted, the left frame will not be rendered. -->                                    
    <!--left_frame_html><![CDATA[
	  <table>
        <tr>
          <td class="clsWizardNotesTD"><b>Add Recurring Charge</b><br>
        </tr>
      </table>
    ]]></left_frame_html-->

    <!-- The template contains the HTML template for the wizard.  Page processing will first be performed by
         the wizard, then control can be passed to user-defined ASP               -->      
    <!-- <right_frame_file>GeneralConfiguration.html</right_frame_file>   -->
    <right_frame_eval>WriteNewOrExisting("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
  </page>
 
  <page id="NewType">
         <previous_page_condition>
          <property>CreateNew</property>
          <operation><![CDATA[=]]></operation>
          <value>1</value>
          <next_page></next_page>
       </previous_page_condition>

    <previous_page>start</previous_page>
    <next_page>NewGeneral</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE] : [TEXT_SELECT_TYPE]</title>                                     
   <left_frame_eval>WriteRecurringSelectTypeText("[WIZARD_NAME]")</left_frame_eval>                              
  <!-- Contains the contents of the left frame of the wizard. If
       omitted, the left frame will not be rendered. -->                                    
    <!--left_frame_html><![CDATA[
	  <table>
        <tr>
          <td class="clsWizardNotesTD"><b>Recurring Charge Type</b><br>
          </td>
        </tr>
      </table>
    ]]></left_frame_html-->

    <!-- The template contains the HTML template for the wizard.  Page processing will first be performed by
         the wizard, then control can be passed to user-defined ASP               -->      
    <!--right_frame_file>typesample.html</right_frame_file>   -->
    <right_frame_eval>WriteTypeSelect("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
  </page>

  <page id="NewGeneral">
    <previous_page>NewType</previous_page>
    <next_page>NewPeriod</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE]</title> 
		<left_frame_file>[CREATE_RECURRING_START]</left_frame_file>                                     
    <!--left_frame_eval>WriteGeneralText("[WIZARD_NAME]")</left_frame_eval-->               
  <!-- Contains the contents of the left frame of the wizard. If
       omitted, the left frame will not be rendered. -->                                    
    <!--left_frame_html><![CDATA[
	  <table>
        <tr>
          <td class="clsWizardNotesTD"><b>Effective Date</b><br>
          </td>
        </tr>
		<tr>
          <td class="clsWizardNotesTD"><b>Availability Date</b><br>
          </td>
        </tr>
        <tr>
          <td class="clsWizardNotesTD"></td>
        </tr>
      </table>
    ]]></left_frame_html-->

    <!-- The template contains the HTML template for the wizard.  Page processing will first be performed by
         the wizard, then control can be passed to user-defined ASP               -->      
    <!-- <right_frame_file>GeneralConfiguration.html</right_frame_file>   -->
    <right_frame_eval>WriteGeneralConfiguration("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
    <update_verification_eval>ValidateGeneralConfiguration("[WIZARD_NAME]")</update_verification_eval>  
  </page>

  <page id="NewPeriod">
    <previous_page>NewGeneral</previous_page>
    <next_page>NewCharge</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE]: [TEXT_SELECT_PERIOD]</title>
		<left_frame_file>[CREATE_RECURRING_PERIOD]</left_frame_file>                                      
    <!--left_frame_eval>WritePeriodText("[WIZARD_NAME]")</left_frame_eval-->                 
  <!-- Contains the contents of the left frame of the wizard. If
       omitted, the left frame will not be rendered. -->                                    
    <!--left_frame_html><![CDATA[
	  <table>
        <tr>
          <td class="clsWizardNotesTD"><b>Recurring Charge Period</b><br>
          </td>
        </tr>
      </table>
    ]]></left_frame_html-->

    <!-- The template contains the HTML template for the wizard.  Page processing will first be performed by
         the wizard, then control can be passed to user-defined ASP               -->      
   <!-- <right_frame_file>periodsample.html</right_frame_file>   -->-->
    <right_frame_eval>WriteCycleConfiguration("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
  </page>

  <page id="NewCharge">

    <next_page_condition>
      <property>IsUDRC</property>
      <operation>=</operation>
      <value>TRUE</value>
      <next_page>UDRCPage</next_page>
    </next_page_condition>
    
    <previous_page>NewPeriod</previous_page>
    <next_page>summary</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE] : [TEXT_CONFIGURE_CHARGE]</title>                                     
    <inputs>
      <input type='checkbox'>AddRecurring_ProrateOnActivation</input>
      <input type='checkbox'>AddRecurring_ProrateOnEndDate</input>
      <input type='checkbox'>AddRecurring_ProrateOnRateChange</input>
    </inputs>  
	  <left_frame_file>[CREATE_RECURRING_CONFIG_CHARGE]</left_frame_file>                                      	
   <!--left_frame_eval>WriteGeneralText("[WIZARD_NAME]")</left_frame_eval-->                  
  <!-- Contains the contents of the left frame of the wizard. If
       omitted, the left frame will not be rendered. -->                                    
    <!--left_frame_html><![CDATA[
	  <table>
        <tr>
          <td class="clsWizardNotesTD"><b>Recurring Charge</b><br>
          </td>
        </tr>
      </table>
    ]]></left_frame_html-->

    <!-- The template contains the HTML template for the wizard.  Page processing will first be performed by
         the wizard, then control can be passed to user-defined ASP               -->      
  <!--  <right_frame_file>charge.html</right_frame_file>   -->-->
    <right_frame_eval>WriteChargeConfiguration("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
  </page>
  
  
  <page id="UDRCPage">
  
    <previous_page>NewCharge</previous_page>
    
    <next_page>summary</next_page>    <!-- Specifies the next page in the wizard, if omitted, this
                                     will be the last page. -->
    <title>[TEXT_NEW] [TEXT_KEYTERM_RECURRING_CHARGE] : [TEXT_CONFIGURE_CHARGE]</title>
	  <left_frame_file>[CREATE_RECURRING_CONFIG_CHARGE_UDRC]</left_frame_file>

  <right_frame_eval>WriteUDRCDialog("[WIZARD_NAME]")</right_frame_eval>
  <update_verification_eval>ValidateUDRCDialog("[WIZARD_NAME]")</update_verification_eval>
	<!-- right_frame_html>Hello</right_frame_html -->
  </page>
 
   
   <page id="summary">
    <!-- If the condition is not satisfied, then the next_page is called -->      
       <previous_page_condition>
          <property>SELECTTEMPLATE</property>
          <operation><![CDATA[<>]]></operation>
          <value>-1</value>
          <next_page>start</next_page>
       </previous_page_condition>
       
       <previous_page_condition>
          <property>IsUDRC</property>
          <operation><![CDATA[=]]></operation>
          <value>TRUE</value>
          <next_page>UDRCPage</next_page>
       </previous_page_condition>
       
    <previous_page>NewCharge</previous_page>

    <title>Summary</title>
	  <left_frame_file>[CREATE_RECURRING_SUMMARY]</left_frame_file>       
    <!--left_frame_eval>WriteSummaryText("[WIZARD_NAME]")</left_frame_eval-->
    <!--left_frame_html><![CDATA[
      <table>
        <tr>
          <td class="clsWizardPrompt"><b>Summary</b><br><br>
            Here is a summary of the Recurring Charge you are about to create.<BR><BR>
			Click 'Finish' to create this Recurring Charge.
          </td>
        </tr>
      </table>    
    ]]></left_frame_html-->
    <right_frame_eval>WriteSummary("[WIZARD_NAME]")</right_frame_eval>
	<!--right_frame_html></right_frame_html-->
  </page>

</MTWizard>